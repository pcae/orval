"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; } function _nullishCoalesce(lhs, rhsFn) { if (lhs != null) { return lhs; } else { return rhsFn(); } } function _optionalChain(ops) { let lastAccessLHS = undefined; let value = ops[0]; let i = 1; while (i < ops.length) { const op = ops[i]; const fn = ops[i + 1]; i += 2; if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) { return undefined; } if (op === 'access' || op === 'optionalAccess') { lastAccessLHS = value; value = fn(value); } else if (op === 'call' || op === 'optionalCall') { value = fn((...args) => value.call(lastAccessLHS, ...args)); lastAccessLHS = undefined; } } return value; }var cn=Object.create;var tt=Object.defineProperty;var mn=Object.getOwnPropertyDescriptor;var ln=Object.getOwnPropertyNames;var un=Object.getPrototypeOf,fn=Object.prototype.hasOwnProperty;var k=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var dn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),gn=(e,t)=>{for(var r in t)tt(e,r,{get:t[r],enumerable:!0})},yn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of ln(t))!fn.call(e,o)&&o!==r&&tt(e,o,{get:()=>t[o],enumerable:!(n=mn(t,o))||n.enumerable});return e};var hn=(e,t,r)=>(r=e!=null?cn(un(e)):{},yn(t||!e||!e.__esModule?tt(r,"default",{value:e,enumerable:!0}):r,e));var _r=dn((Oe,le)=>{var to=200,br="__lodash_hash_undefined__",ro=800,no=16,Or=9007199254740991,xr="[object Arguments]",oo="[object Array]",so="[object AsyncFunction]",ao="[object Boolean]",io="[object Date]",po="[object Error]",Sr="[object Function]",co="[object GeneratorFunction]",mo="[object Map]",lo="[object Number]",uo="[object Null]",$r="[object Object]",fo="[object Proxy]",go="[object RegExp]",yo="[object Set]",ho="[object String]",bo="[object Undefined]",Oo="[object WeakMap]",xo="[object ArrayBuffer]",So="[object DataView]",$o="[object Float32Array]",jo="[object Float64Array]",Ro="[object Int8Array]",vo="[object Int16Array]",To="[object Int32Array]",Po="[object Uint8Array]",wo="[object Uint8ClampedArray]",Mo="[object Uint16Array]",Go="[object Uint32Array]",Co=/[\\^$.*+?()[\]{}|]/g,Eo=/^\[object .+?Constructor\]$/,Io=/^(?:0|[1-9]\d*)$/,j={};j[$o]=j[jo]=j[Ro]=j[vo]=j[To]=j[Po]=j[wo]=j[Mo]=j[Go]=!0;j[xr]=j[oo]=j[xo]=j[ao]=j[So]=j[io]=j[po]=j[Sr]=j[mo]=j[lo]=j[$r]=j[go]=j[yo]=j[ho]=j[Oo]=!1;var jr=typeof global=="object"&&global&&global.Object===Object&&global,Ao=typeof self=="object"&&self&&self.Object===Object&&self,$e=jr||Ao||Function("return this")(),Rr=typeof Oe=="object"&&Oe&&!Oe.nodeType&&Oe,xe=Rr&&typeof le=="object"&&le&&!le.nodeType&&le,vr=xe&&xe.exports===Rr,ht=vr&&jr.process,cr=function(){try{var e=xe&&xe.require&&xe.require("util").types;return e||ht&&ht.binding&&ht.binding("util")}catch (e2){}}(),mr=cr&&cr.isTypedArray;function Do(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function No(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function _o(e){return function(t){return e(t)}}function Fo(e,t){return _optionalChain([e, 'optionalAccess', _2 => _2[t]])}function ko(e,t){return function(r){return e(t(r))}}var Bo=Array.prototype,Wo=Function.prototype,Be=Object.prototype,bt=$e["__core-js_shared__"],We=Wo.toString,U=Be.hasOwnProperty,lr=function(){var e=/[^.]+$/.exec(bt&&bt.keys&&bt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Tr=Be.toString,Vo=We.call(Object),Uo=RegExp("^"+We.call(U).replace(Co,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=vr?$e.Buffer:void 0,ur=$e.Symbol,fr=$e.Uint8Array,dr=Fe?Fe.allocUnsafe:void 0,Pr=ko(Object.getPrototypeOf,Object),gr=Object.create,qo=Be.propertyIsEnumerable,zo=Bo.splice,re=ur?ur.toStringTag:void 0,ke=function(){try{var e=Rt(Object,"defineProperty");return e({},"",{}),e}catch (e3){}}(),Lo=Fe?Fe.isBuffer:void 0,yr=Math.max,Ko=Date.now,wr=Rt($e,"Map"),Se=Rt(Object,"create"),Ho=function(){function e(){}return function(t){if(!oe(t))return{};if(gr)return gr(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function ne(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Qo(){this.__data__=Se?Se(null):{},this.size=0}function Jo(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Yo(e){var t=this.__data__;if(Se){var r=t[e];return r===br?void 0:r}return U.call(t,e)?t[e]:void 0}function Xo(e){var t=this.__data__;return Se?t[e]!==void 0:U.call(t,e)}function Zo(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Se&&t===void 0?br:t,this}ne.prototype.clear=Qo;ne.prototype.delete=Jo;ne.prototype.get=Yo;ne.prototype.has=Xo;ne.prototype.set=Zo;function q(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function es(){this.__data__=[],this.size=0}function ts(e){var t=this.__data__,r=Ve(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():zo.call(t,r,1),--this.size,!0}function rs(e){var t=this.__data__,r=Ve(t,e);return r<0?void 0:t[r][1]}function ns(e){return Ve(this.__data__,e)>-1}function os(e,t){var r=this.__data__,n=Ve(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}q.prototype.clear=es;q.prototype.delete=ts;q.prototype.get=rs;q.prototype.has=ns;q.prototype.set=os;function ue(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ss(){this.size=0,this.__data__={hash:new ne,map:new(wr||q),string:new ne}}function as(e){var t=qe(this,e).delete(e);return this.size-=t?1:0,t}function is(e){return qe(this,e).get(e)}function ps(e){return qe(this,e).has(e)}function cs(e,t){var r=qe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}ue.prototype.clear=ss;ue.prototype.delete=as;ue.prototype.get=is;ue.prototype.has=ps;ue.prototype.set=cs;function fe(e){var t=this.__data__=new q(e);this.size=t.size}function ms(){this.__data__=new q,this.size=0}function ls(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function us(e){return this.__data__.get(e)}function fs(e){return this.__data__.has(e)}function ds(e,t){var r=this.__data__;if(r instanceof q){var n=r.__data__;if(!wr||n.length<to-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ue(n)}return r.set(e,t),this.size=r.size,this}fe.prototype.clear=ms;fe.prototype.delete=ls;fe.prototype.get=us;fe.prototype.has=fs;fe.prototype.set=ds;function gs(e,t){var r=$t(e),n=!r&&St(e),o=!r&&!n&&Er(e),s=!r&&!n&&!o&&Ar(e),a=r||n||o||s,p=a?No(e.length,String):[],i=p.length;for(var c in e)(t||U.call(e,c))&&!(a&&(c=="length"||o&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Gr(c,i)))&&p.push(c);return p}function Ot(e,t,r){(r!==void 0&&!ze(e[t],r)||r===void 0&&!(t in e))&&jt(e,t,r)}function ys(e,t,r){var n=e[t];(!(U.call(e,t)&&ze(n,r))||r===void 0&&!(t in e))&&jt(e,t,r)}function Ve(e,t){for(var r=e.length;r--;)if(ze(e[r][0],t))return r;return-1}function jt(e,t,r){t=="__proto__"&&ke?ke(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var hs=Gs();function Ue(e){return e==null?e===void 0?bo:uo:re&&re in Object(e)?Cs(e):_s(e)}function hr(e){return je(e)&&Ue(e)==xr}function bs(e){if(!oe(e)||Ds(e))return!1;var t=Tt(e)?Uo:Eo;return t.test(Ws(e))}function Os(e){return je(e)&&Ir(e.length)&&!!j[Ue(e)]}function xs(e){if(!oe(e))return Ns(e);var t=Cr(e),r=[];for(var n in e)n=="constructor"&&(t||!U.call(e,n))||r.push(n);return r}function Mr(e,t,r,n,o){e!==t&&hs(t,function(s,a){if(o||(o=new fe),oe(s))Ss(e,t,a,r,Mr,n,o);else{var p=n?n(xt(e,a),s,a+"",e,t,o):void 0;p===void 0&&(p=s),Ot(e,a,p)}},Dr)}function Ss(e,t,r,n,o,s,a){var p=xt(e,r),i=xt(t,r),c=a.get(i);if(c){Ot(e,r,c);return}var m=s?s(p,i,r+"",e,t,a):void 0,l=m===void 0;if(l){var u=$t(i),f=!u&&Er(i),d=!u&&!f&&Ar(i);m=i,u||f||d?$t(p)?m=p:Vs(p)?m=Ps(p):f?(l=!1,m=Rs(i,!0)):d?(l=!1,m=Ts(i,!0)):m=[]:Us(i)||St(i)?(m=p,St(p)?m=qs(p):(!oe(p)||Tt(p))&&(m=Es(i))):l=!1}l&&(a.set(i,m),o(m,i,n,s,a),a.delete(i)),Ot(e,r,m)}function $s(e,t){return ks(Fs(e,t,Nr),e+"")}var js=ke?function(e,t){return ke(e,"toString",{configurable:!0,enumerable:!1,value:Ls(t),writable:!0})}:Nr;function Rs(e,t){if(t)return e.slice();var r=e.length,n=dr?dr(r):new e.constructor(r);return e.copy(n),n}function vs(e){var t=new e.constructor(e.byteLength);return new fr(t).set(new fr(e)),t}function Ts(e,t){var r=t?vs(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ps(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function ws(e,t,r,n){var o=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var p=t[s],i=n?n(r[p],e[p],p,r,e):void 0;i===void 0&&(i=e[p]),o?jt(r,p,i):ys(r,p,i)}return r}function Ms(e){return $s(function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(o--,s):void 0,a&&Is(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),t=Object(t);++n<o;){var p=r[n];p&&e(t,p,n,s)}return t})}function Gs(e){return function(t,r,n){for(var o=-1,s=Object(t),a=n(t),p=a.length;p--;){var i=a[e?p:++o];if(r(s[i],i,s)===!1)break}return t}}function qe(e,t){var r=e.__data__;return As(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Rt(e,t){var r=Fo(e,t);return bs(r)?r:void 0}function Cs(e){var t=U.call(e,re),r=e[re];try{e[re]=void 0;var n=!0}catch (e4){}var o=Tr.call(e);return n&&(t?e[re]=r:delete e[re]),o}function Es(e){return typeof e.constructor=="function"&&!Cr(e)?Ho(Pr(e)):{}}function Gr(e,t){var r=typeof e;return t=_nullishCoalesce(t, () => (Or)),!!t&&(r=="number"||r!="symbol"&&Io.test(e))&&e>-1&&e%1==0&&e<t}function Is(e,t,r){if(!oe(r))return!1;var n=typeof t;return(n=="number"?vt(r)&&Gr(t,r.length):n=="string"&&t in r)?ze(r[t],e):!1}function As(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ds(e){return!!lr&&lr in e}function Cr(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Be;return e===r}function Ns(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}function _s(e){return Tr.call(e)}function Fs(e,t,r){return t=yr(t===void 0?e.length-1:t,0),function(){for(var n=arguments,o=-1,s=yr(n.length-t,0),a=Array(s);++o<s;)a[o]=n[t+o];o=-1;for(var p=Array(t+1);++o<t;)p[o]=n[o];return p[t]=r(a),Do(e,this,p)}}function xt(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var ks=Bs(js);function Bs(e){var t=0,r=0;return function(){var n=Ko(),o=no-(n-r);if(r=n,o>0){if(++t>=ro)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ws(e){if(e!=null){try{return We.call(e)}catch (e5){}try{return e+""}catch (e6){}}return""}function ze(e,t){return e===t||e!==e&&t!==t}var St=hr(function(){return arguments}())?hr:function(e){return je(e)&&U.call(e,"callee")&&!qo.call(e,"callee")},$t=Array.isArray;function vt(e){return e!=null&&Ir(e.length)&&!Tt(e)}function Vs(e){return je(e)&&vt(e)}var Er=Lo||Ks;function Tt(e){if(!oe(e))return!1;var t=Ue(e);return t==Sr||t==co||t==so||t==fo}function Ir(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Or}function oe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function je(e){return e!=null&&typeof e=="object"}function Us(e){if(!je(e)||Ue(e)!=$r)return!1;var t=Pr(e);if(t===null)return!0;var r=U.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&We.call(r)==Vo}var Ar=mr?_o(mr):Os;function qs(e){return ws(e,Dr(e))}function Dr(e){return vt(e)?gs(e,!0):xs(e)}var zs=Ms(function(e,t,r,n){Mr(e,t,r,n)});function Ls(e){return function(){return e}}function Nr(e){return e}function Ks(){return!1}le.exports=zs});var L={ANGULAR:"angular",AXIOS:"axios",AXIOS_FUNCTIONS:"axios-functions",REACT_QUERY:"react-query",SVELTE_QUERY:"svelte-query",VUE_QUERY:"vue-query"},va= exports.OutputMode ={SINGLE:"single",SPLIT:"split",TAGS:"tags",TAGS_SPLIT:"tags-split"},V= exports.Verbs ={POST:"post",PUT:"put",GET:"get",PATCH:"patch",DELETE:"delete",HEAD:"head"},ge= exports.GetterPropType ={PARAM:"param",BODY:"body",QUERY_PARAM:"queryParam",HEADER:"header"},Dt= exports.SchemaType ={integer:"integer",number:"number",string:"string",boolean:"boolean",object:"object",null:"null",array:"array",enum:"enum",unknown:"unknown"};var bn=["number","string","null","unknown","undefined","object","blob"],Re= exports.generalJSTypesWithArray =bn.reduce((e,t)=>(e.push(t,`Array<${t}>`,`${t}[]`),e),[]),Nt= exports.VERBS_WITH_BODY =[V.POST,V.PUT,V.PATCH,V.DELETE],wa= exports.URL_REGEX =/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/;var _lodashisempty = require('lodash.isempty'); var _lodashisempty2 = _interopRequireDefault(_lodashisempty);var _esutils = require('esutils');var _isURL = require('validator/lib/isURL'); var _isURL2 = _interopRequireDefault(_isURL);var b={};gn(b,{basename:()=>En,dirname:()=>Cn,extname:()=>ct,getSchemaFileName:()=>Nn,getSpecName:()=>Dn,isAbsolute:()=>In,join:()=>Gn,joinSafe:()=>Te,normalizeSafe:()=>Pe,relativeSafe:()=>An,resolve:()=>pt,separator:()=>Qt});var _path = require('path'); var _path2 = _interopRequireDefault(_path);var ve=e=>e.toLowerCase().includes(".yaml")||e.toLowerCase().includes(".yml")?"yaml":"json";var _chalk = require('chalk'); var _chalk2 = _interopRequireDefault(_chalk);var _esbuild = require('esbuild');var _fs = require('fs'); var _fs2 = _interopRequireDefault(_fs);var _globby = require('globby'); var _globby2 = _interopRequireDefault(_globby);var _micromatch = require('micromatch'); var _micromatch2 = _interopRequireDefault(_micromatch);var _debug = require('debug'); var _debug2 = _interopRequireDefault(_debug);var _t=process.env.ORVAL_DEBUG_FILTER,xn=process.env.DEBUG;function Ft(e,t={}){let r=_debug2.default.call(void 0, e),{onlyWhenFocused:n}=t,o=typeof n=="string"?n:e;return(s,...a)=>{_t&&!s.includes(_t)||n&&!_optionalChain([xn, 'optionalAccess', _3 => _3.includes, 'call', _4 => _4(o)])||r(s,...a)}}var _readline = require('readline'); var _readline2 = _interopRequireDefault(_readline);var B=console.log,Da= exports.startMessage =({name:e,version:t,description:r})=>B(`\u{1F37B} Start ${_chalk2.default.cyan.bold(e)} ${_chalk2.default.green(`v${t}`)}${r?` - ${r}`:""}`),Na= exports.errorMessage =e=>B(_chalk2.default.red(e)),_a= exports.mismatchArgsMessage =e=>B(_chalk2.default.yellow(`${e.join(", ")} ${e.length===1?"is":"are"} not defined in your configuration!`)),Fa= exports.createSuccessMessage =e=>B(`\u{1F389} ${e?`${_chalk2.default.green(e)} - `:""}Your OpenAPI spec has been converted into ready to use orval!`),Vt= exports.ibmOpenapiValidatorWarnings =e=>{B(_chalk2.default.yellow("(!) Warnings")),e.forEach(t=>B(_chalk2.default.yellow(`Message : ${t.message}
Path    : ${t.path}`)))},Ut= exports.ibmOpenapiValidatorErrors =e=>{B(_chalk2.default.red("(!) Errors")),e.forEach(t=>B(_chalk2.default.red(`Message : ${t.message}
Path    : ${t.path}`)))},rt= exports.LogLevels ={silent:0,error:1,warn:2,info:3},Bt,Wt,nt=0;function Sn(){let e=process.stdout.rows-2,t=e>0?`
`.repeat(e):"";console.log(t),_readline2.default.cursorTo(process.stdout,0,0),_readline2.default.clearScreenDown(process.stdout)}function Z(e="info",t={}){let{prefix:r="[vite]",allowClearScreen:n=!0}=t,o=rt[e],s=n&&process.stdout.isTTY&&!process.env.CI?Sn:()=>{};function a(c,m,l={}){if(o>=rt[c]){let u=c==="info"?"log":c,f=()=>{if(l.timestamp){let d=c==="info"?_chalk2.default.cyan.bold(r):c==="warn"?_chalk2.default.yellow.bold(r):_chalk2.default.red.bold(r);return`${_chalk2.default.dim(new Date().toLocaleTimeString())} ${d} ${m}`}else return m};c===Bt&&m===Wt?(nt++,s(),console[u](f(),_chalk2.default.yellow(`(x${nt+1})`))):(nt=0,Wt=m,Bt=c,l.clear&&s(),console[u](f()))}}let p=new Set,i={hasWarned:!1,info(c,m){a("info",c,m)},warn(c,m){i.hasWarned=!0,a("warn",c,m)},warnOnce(c,m){p.has(c)||(i.hasWarned=!0,a("warn",c,m),p.add(c))},error(c,m){i.hasWarned=!0,a("error",c,m)},clearScreen(c){o>=rt[c]&&s()}};return i}var R=(e="",{backupFilename:t="filename",extension:r=".ts"}={})=>{let n=Lt(e),o=n?_path.join.call(void 0, e,t+r):e,s=o.replace(/\.[^/.]+$/,""),a=_path.dirname.call(void 0, o),p=_path.basename.call(void 0, o,r[0]!=="."?`.${r}`:r);return{path:o,pathWithoutExtension:s,extension:r,isDirectory:n,dirname:a,filename:p}},qt=Ft("orval:file-load"),st=new Map;async function zt(e,t){let{root:r=process.cwd(),isDefault:n=!0,defaultFileName:o,logLevel:s,alias:a,tsconfig:p,load:i=!0}=_nullishCoalesce(t, () => ({})),c=Date.now(),m,l=!1,u=!1;if(e)m=_path.resolve.call(void 0, e),l=e.endsWith(".ts");else if(o){let y=_path.resolve.call(void 0, r,`${o}.js`);if(_fs2.default.existsSync(y)&&(m=y),!m){let g=_path.resolve.call(void 0, r,`${o}.mjs`);_fs2.default.existsSync(g)&&(m=g,u=!0)}if(!m){let g=_path.resolve.call(void 0, r,`${o}.ts`);_fs2.default.existsSync(g)&&(m=g,l=!0)}}m||(e?Z(s).error(_chalk2.default.red(`File not found => ${e}`)):o?Z(s).error(_chalk2.default.red(`File not found => ${o}.{js,mjs,ts}`)):Z(s).error(_chalk2.default.red("File not found")),process.exit(1));let f=Pe(m),d=st.get(m);if(d)return{path:f,...d,cached:!0};try{let y;if(!y&&!l&&!u)try{delete k.cache[k.resolve(m)],y=k(m),qt(`cjs loaded in ${Date.now()-c}ms`)}catch(g){if(!new RegExp(["Cannot use import statement","Must use import to load ES Module","Unexpected token","Unexpected identifier"].join("|")).test(g.message))throw g}if(!y){let{code:g}=await Pn(m,u,r||_path.dirname.call(void 0, f),a,_optionalChain([p, 'optionalAccess', _5 => _5.compilerOptions]));i?y=await wn(m,g,n):y=g,qt(`bundled file loaded in ${Date.now()-c}ms`)}return st.set(m,{file:y}),{path:f,file:y}}catch(y){return st.set(m,{error:y}),{path:f,error:y}}}async function Pn(e,t=!1,r,n,o){let s=await _esbuild.build.call(void 0, {absWorkingDir:process.cwd(),entryPoints:[e],outfile:"out.js",write:!1,platform:"node",bundle:!0,format:t?"esm":"cjs",sourcemap:"inline",metafile:!0,target:"es6",minifyWhitespace:!0,plugins:[...n||_optionalChain([o, 'optionalAccess', _6 => _6.paths])?[{name:"aliasing",setup(p){p.onResolve({filter:/^[\w@][^:]/},async({path:i})=>{if(n){let c=Object.keys(n),m=c.find(l=>i.startsWith(l)||_micromatch2.default.isMatch(i,c));if(m){let l=_micromatch2.default.scan(m),u=_micromatch2.default.scan(n[m]),f=_path.resolve.call(void 0, r,u.base),d=l.base?i.replace(l.base,f):Te(f,i),g=_path.extname.call(void 0, d)?d:`${d}.ts`;return _fs2.default.existsSync(g)?{path:g}:void 0}}if(_optionalChain([o, 'optionalAccess', _7 => _7.paths])){let c=Object.keys(_optionalChain([o, 'optionalAccess', _8 => _8.paths])),m=c.find(l=>i.startsWith(l)||_micromatch2.default.isMatch(i,c));if(m){let l=_micromatch2.default.scan(m),u=_micromatch2.default.scan(_optionalChain([o, 'optionalAccess', _9 => _9.paths, 'access', _10 => _10[m], 'access', _11 => _11[0]])),f=_path.resolve.call(void 0, r,u.base),d=l.base?i.replace(l.base,f):Te(f,i),g=_path.extname.call(void 0, d)?d:`${d}.ts`;return _fs2.default.existsSync(g)?{path:g}:void 0}}})}}]:[],{name:"externalize-deps",setup(p){p.onResolve({filter:/.*/},i=>{let c=i.path;if(c[0]!=="."&&!_path.isAbsolute.call(void 0, c))return{external:!0}})}},{name:"replace-import-meta",setup(p){p.onLoad({filter:/\.[jt]s$/},async i=>{let c=await _fs2.default.promises.readFile(i.path,"utf8");return{loader:i.path.endsWith(".ts")?"ts":"js",contents:c.replace(/\bimport\.meta\.url\b/g,JSON.stringify(`file://${i.path}`)).replace(/\b__dirname\b/g,JSON.stringify(_path.dirname.call(void 0, i.path))).replace(/\b__filename\b/g,JSON.stringify(i.path))}})}}]}),{text:a}=s.outputFiles[0];return{code:a,dependencies:s.metafile?Object.keys(s.metafile.inputs):[]}}async function wn(e,t,r){let n=_path.extname.call(void 0, e),o=k.extensions[n];k.extensions[n]=(p,i)=>{i===e?p._compile(t,i):o(p,i)},delete k.cache[k.resolve(e)];let s=k(e),a=r&&s.__esModule?s.default:s;return k.extensions[n]=o,a}async function Xa(e,t){let r=await _globby2.default.call(void 0, e,{cwd:t,absolute:!0});await Promise.all(r.map(n=>_fs2.default.promises.unlink(n)))}var K={},Mn=e=>typeof e=="function",Ht=e=>typeof e=="string"?!0:typeof e=="object"&&e!==null?Object.toString.call(e)=="[object String]":!1;Object.entries(_path2.default).forEach(([e,t])=>{Mn(t)?K[e]=(r=>(...n)=>{n=n.map(s=>Ht(s)?we(s):s);let o=_path2.default[r](...n);return Ht(o)?we(o):o})(e):K[e]=t});var{join:Gn,resolve:pt,extname:ct,dirname:Cn,basename:En,isAbsolute:In}=K;var An=(e,t)=>{let r=K.relative(e,t);return Pe(`.${Qt}${r}`)},Dn=(e,t)=>{if(Me(e)){let r=new URL(t);return e.replace(r.origin,"").replace(R(r.pathname).dirname,"").replace(`.${ve(e)}`,"")}return"/"+K.normalize(K.relative(R(t).dirname,e)).split("../").join("").replace(`.${ve(e)}`,"")},Nn=e=>e.replace(`.${ve(e)}`,"").slice(e.lastIndexOf("/")+1),Qt="/",we=function(e){return e=e.replace(/\\/g,"/"),e=e.replace(/(?<!^)\/+/g,"/"),e},Pe=e=>{let t;return e=we(e),t=K.normalize(e),e.startsWith("./")&&!t.startsWith("./")&&!t.startsWith("..")?t="./"+t:e.startsWith("//")&&!t.startsWith("//")&&(e.startsWith("//./")?t="//."+t:t="/"+t),t},Te=function(...e){let t=K.join(...e);if(e.length>0){let r=we(e[0]);r.startsWith("./")&&!t.startsWith("./")&&!t.startsWith("..")?t="./"+t:r.startsWith("//")&&!t.startsWith("//")&&(r.startsWith("//./")?t="//."+t:t="/"+t)}return t};var G=e=>Boolean(e.$ref),Lt= exports.isDirectory =e=>!ct(e);function D(e){return Object.prototype.toString.call(e)==="[object Object]"}function Jt(e){return Object.prototype.toString.call(e)==="[object Module]"}function _(e){return typeof e=="string"}function Yt(e){return typeof e=="number"}function Xt(e){return/^-?\d+$/.test(e)}function ye(e){return typeof e=="boolean"}function Zt(e){return typeof e=="function"}function he(e){return typeof e>"u"}function er(e){return typeof e===null}function ii(e){if(!D(e))return!1;if(_(e.type)&&Object.values(Dt).includes(e.type))return!0;let t=e.allOf||e.anyOf||e.oneOf;return!!(Array.isArray(t)||D(e.properties))}var tr=e=>Object.values(V).includes(e),pi= exports.isRootKey =(e,t)=>e===t,Fn=/^https?:\/\/\w+(\.\w+)*(:[0-9]+)?(\/.*)?$/,Me= exports.isUrl =e=>_isURL2.default.call(void 0, e)||Fn.test(e);async function rr(e,t,r){let n=typeof r=="object"?Object.create(r):r;for(let o of e)n=await t(n,o);return n}var mt=function(e,t){return t=t||"",e.replace(/(^|-)/g,"$1\\u"+t).replace(/,/g,"\\u"+t)},Ge=mt("20-26,28-2F,3A-40,5B-60,7B-7E,A0-BF,D7,F7","00"),Ce="a-z"+mt("DF-F6,F8-FF","00"),be="A-Z"+mt("C0-D6,D8-DE","00"),kn="A|An|And|As|At|But|By|En|For|If|In|Of|On|Or|The|To|Vs?\\.?|Via",H={capitalize:new RegExp("(^|["+Ge+"])(["+Ce+"])","g"),pascal:new RegExp("(^|["+Ge+"])+(["+Ce+be+"])","g"),fill:new RegExp("["+Ge+"]+(.|$)","g"),sentence:new RegExp('(^\\s*|[\\?\\!\\.]+"?\\s+"?|,\\s+")(['+Ce+"])","g"),improper:new RegExp("\\b("+kn+")\\b","g"),relax:new RegExp("([^"+be+"])(["+be+"]*)(["+be+"])(?=[^"+be+"]|$)","g"),upper:new RegExp("^[^"+Ce+"]+$"),hole:/[^\s]\s[^\s]/,apostrophe:/'/g,room:new RegExp("["+Ge+"]")},Bn=e=>e.replace(H.apostrophe,""),nr=String.prototype.toUpperCase,lt=String.prototype.toLowerCase,Ee=(e,t,r=!1)=>(t!=null&&(e=e.replace(H.fill,function(n,o){return o?t+o:""})),r&&(e=Bn(e)),e),Wn=(e,t=0)=>lt.call(e.charAt(t))+e.slice(t+1),Vn=(e,t,r,n)=>t+" "+(r?r+" ":"")+n,ut=(e,t=!1,r=!1,n=!1)=>{if(e=e==null?"":e+"",!n&&H.upper.test(e)&&(e=lt.call(e)),!t&&!H.hole.test(e)){var o=Ee(e," ");H.hole.test(o)&&(e=o)}return!r&&!H.room.test(e)&&(e=e.replace(H.relax,Vn)),e},or=(e,t,r)=>Ee(lt.call(ut(e,!!t)),t,r),h= exports.pascal =e=>{let t=_optionalChain([e, 'optionalAccess', _12 => _12.startsWith, 'call', _13 => _13("_")]),r=Ee(ut(e,!1,!0).replace(H.pascal,(n,o,s)=>nr.call(s)),"",!0);return t?`_${r}`:r},x= exports.camel =e=>{let t=_optionalChain([e, 'optionalAccess', _14 => _14.startsWith, 'call', _15 => _15("_")]),r=Wn(h(e),t?1:0);return t?`_${r}`:r},li= exports.snake =e=>or(e,"_",!0),Ie= exports.kebab =e=>or(e,"-",!0),ui= exports.upper =(e,t,r)=>Ee(nr.call(ut(e,!!t,!1,!0)),t,r);var _compareversions = require('compare-versions');var Ae=(e,t,r=">=")=>e==="latest"?!0:_compareversions.compare.call(void 0, e.replace(/(\s(.*))/,""),t,r);var qn="\\*/",ft="*\\/",dt=new RegExp(qn,"g");function w({description:e,deprecated:t,summary:r},n=!1){let o=(Array.isArray(e)?e.filter(c=>!c.includes("eslint-disable")):[e||""]).map(c=>c.replace(dt,ft)),s=[e,t,r].reduce((c,m)=>m?c+1:c,0);if(!s)return"";let a=s===1&&n,p=Array.isArray(e)?_optionalChain([e, 'access', _16 => _16.find, 'call', _17 => _17(c=>c.includes("eslint-disable")), 'optionalAccess', _18 => _18.replace, 'call', _19 => _19(dt,ft)]):void 0,i=`${p?`/* ${p} */
`:""}/**`;return e&&(a||(i+=`
${n?"  ":""} *`),i+=` ${o.join(`
 * `)}`),t&&(a||(i+=`
${n?"  ":""} *`),i+=" @deprecated"),r&&(a||(i+=`
${n?"  ":""} *`),i+=` @summary ${r.replace(dt,ft)}`),i+=a?" ":`
 ${n?"  ":""}`,i+=`*/
`,i}var sr=async(e,t=process.cwd(),r=!0)=>{if(!e)return e;try{if(_(e)){let o=await Promise.resolve().then(() => require(pt(t,e)));return r&&(D(o)||Jt(o))&&o.default?o.default:o}return Promise.resolve(e)}catch(n){throw`Oups... \u{1F37B}. Path: ${e} => ${n}`}};var De=e=>e&&typeof e=="object";function gt(e,t){return!De(t)||!De(e)?e:Object.entries(t).reduce((r,[n,o])=>{let s=r[n];return Array.isArray(s)&&Array.isArray(o)?r[n]=[...s,...o]:De(s)&&De(o)?r[n]=gt(s,o):r[n]=o,r},Object.assign({},e))}var $i=(e="",t)=>e?(_nullishCoalesce(e.match(new RegExp(t,"g")), () => ([]))).length:0;var _swagger2openapi = require('swagger2openapi'); var _swagger2openapi2 = _interopRequireDefault(_swagger2openapi);var Pi=async(e,t={},r)=>{try{return new Promise(n=>{!e.openapi&&e.swagger==="2.0"?_swagger2openapi2.default.convertObj(e,t,(o,s)=>{o?(B(_chalk2.default.yellow(`${r}
=> ${o}`)),n(e)):n(s.openapi)}):n(e)})}catch(n){throw`Oups... \u{1F37B}.
Path: ${r}
Parsing Error: ${n}`}};var ar=e=>e.sort((t,r)=>t.default?1:r.default?-1:t.required&&r.required?0:t.required?-1:r.required?1:0);var _lodashget = require('lodash.get'); var _lodashget2 = _interopRequireDefault(_lodashget);var Q=e=>{if(!(he(e)||er(e)))return _(e)?`'${e}'`:Yt(e)||ye(e)||Zt(e)?`${e}`:Array.isArray(e)?`[${e.map(Q).join(", ")}]`:Object.entries(e).reduce((t,[r,n],o,s)=>{let a=Q(n);return s.length===1?`{ ${r}: ${a}, }`:o?s.length-1===o?t+`${r}: ${a}, }`:t+`${r}: ${a}, `:`{ ${r}: ${a}, `},"")},P= exports.sanitize =(e,t)=>{let{whitespace:r="",underscore:n="",dot:o="",dash:s="",es5keyword:a=!1,es5IdentifierName:p=!1,special:i=!1}=_nullishCoalesce(t, () => ({})),c=e;return i!==!0&&(c=c.replace(/[!"`'#%&,:;<>=@{}~\$\(\)\*\+\/\\\?\[\]\^\|]/g,"")),r!==!0&&(c=c.replace(/[\s]/g,r)),n!==!0&&(c=c.replace(/['_']/g,n)),o!==!0&&(c=c.replace(/[.]/g,o)),s!==!0&&(c=c.replace(/[-]/g,s)),a&&(c=_esutils.keyword.isKeywordES5(c,!0)?`_${c}`:c),p&&(c.match(/^[0-9]/)?c=`N${c}`:c=_esutils.keyword.isIdentifierNameES5(c)?c:`_${c}`),c},Ii= exports.toObjectString =(e,t)=>e.length?(t?e.map(n=>_lodashget2.default.call(void 0, n,t)):e).join(`,
    `)+",":"",Hn={0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine"},Ne= exports.getNumberWord =e=>e.toString().split("").reduce((r,n)=>r+Hn[n],""),yt= exports.escape =(e,t="'")=>e.replace(t,`\\${t}`);var J=e=>e?!!(_nullishCoalesce(_optionalChain([e, 'optionalAccess', _20 => _20.compilerOptions, 'optionalAccess', _21 => _21.allowSyntheticDefaultImports]), () => (_optionalChain([e, 'optionalAccess', _22 => _22.compilerOptions, 'optionalAccess', _23 => _23.esModuleInterop])))):!0;var _ibmopenapivalidator = require('ibm-openapi-validator'); var _ibmopenapivalidator2 = _interopRequireDefault(_ibmopenapivalidator);var Fi=async e=>{let{errors:t,warnings:r}=await _ibmopenapivalidator2.default.call(void 0, e);r.length&&Vt(r),t.length&&Ut(t)};var ce=(e,t,r)=>{let n=`export type ${t} = typeof ${t}[keyof typeof ${t}];
`,o=_e(e,r);return n+=`

`,n+=`// eslint-disable-next-line @typescript-eslint/no-redeclare
`,n+=`export const ${t} = {
${o}} as const;
`,n},_e= exports.getEnumImplementation =(e,t)=>[...new Set(e.split(" | "))].reduce((r,n,o)=>{let s=_optionalChain([t, 'optionalAccess', _24 => _24[o]]);if(s)return r+`  ${_esutils.keyword.isIdentifierNameES5(s)?s:`'${s}'`}: ${n},
`;let a=n.startsWith("'")?n.slice(1,-1):n;return Xt(a)&&(a=Jn(a)),a.length>1&&(a=P(a,{whitespace:"_",underscore:!0,dash:!0,special:!0})),r+`  ${_esutils.keyword.isIdentifierNameES5(a)?a:`'${a}'`}: ${n},
`},""),Jn=e=>e[0]==="-"?`NUMBER_MINUS_${e.slice(1)}`:e[0]==="+"?`NUMBER_PLUS_${e.slice(1)}`:`NUMBER_${e}`;var cp={schemas:"",responses:"Response",parameters:"Parameter",requestBodies:"Body"},Xn=new RegExp("~1","g"),Zn=(e,t)=>{let r=new URL(t,new URL(e,"resolve://"));if(r.protocol==="resolve:"){let{pathname:n,search:o,hash:s}=r;return n+o+s}return r.toString()},me= exports.getRefInfo =(e,t)=>{let[r,n]=e.split("#"),o=_optionalChain([n, 'optionalAccess', _25 => _25.slice, 'call', _26 => _26(1), 'access', _27 => _27.split, 'call', _28 => _28("/"), 'access', _29 => _29.map, 'call', _30 => _30(i=>i.replace(Xn,"/"))]),s=o?_lodashget2.default.call(void 0, t.override,[...o.slice(0,2),"suffix"],""):"",a=n?o[o.length-1]:b.getSchemaFileName(r);if(!r)return{name:h(a)+s,originalName:a,refPaths:o};let p=Me(t.specKey)?Zn(t.specKey,r):b.resolve(R(t.specKey).dirname,r);return{name:h(a)+s,originalName:a,specKey:p,refPaths:o}};var E=(e,t,r=[])=>{if(_optionalChain([e, 'optionalAccess', _31 => _31.schema, 'optionalAccess', _32 => _32.$ref])){let i=E(_optionalChain([e, 'optionalAccess', _33 => _33.schema]),t,r);return{schema:{...e,schema:i.schema},imports:r}}if(!G(e))return{schema:e,imports:r};let{name:n,originalName:o,specKey:s,refPaths:a}=me(e.$ref,t),p=a?_lodashget2.default.call(void 0, t.specs[s||t.specKey],a):t.specs[s||t.specKey];if(!p)throw`Oups... \u{1F37B}. Ref not found: ${e.$ref}`;return E(p,{...t,specKey:s||t.specKey},[...r,{name:n,specKey:s,schemaName:o}])};var F=({schema:e,name:t,context:r})=>{if(G(e)){let{schema:o,imports:s}=E(e,r),a=s[0],p=a.specKey||(r.specKey!==r.target?r.specKey:void 0),i=!1;return(!t||!_optionalChain([r, 'access', _34 => _34.parents, 'optionalAccess', _35 => _35.includes, 'call', _36 => _36(t)]))&&(i=te({item:o,name:a.name,context:{...r,specKey:p||r.specKey,...t?{parents:[...r.parents||[],t]}:{}}}).hasReadonlyProps),{value:a.name,imports:[{name:a.name,specKey:p,schemaName:a.schemaName}],type:_optionalChain([o, 'optionalAccess', _37 => _37.type])||"object",schemas:[],isEnum:!!_optionalChain([o, 'optionalAccess', _38 => _38.enum]),originalSchema:o,hasReadonlyProps:i,isRef:!0}}return{...te({item:e,name:t,context:r}),originalSchema:e,isRef:!1}};var Pt=hn(_r()),W= exports.resolveObject =({schema:e,propName:t,combined:r=!1,context:n})=>{if(typeof e=="object"&&_optionalChain([e, 'optionalAccess', _39 => _39.allOf])){let a=e.allOf||[],p=n.specKey,i=a.map(c=>{if(G(c)){let m=E(c,n);return p=m.imports[0].specKey||p,m.schema}return c}).reduce((c,m)=>(0,Pt.default)({},c,m,(l,u)=>{if(Array.isArray(l)&&Array.isArray(u))return l.concat(u)}),{});e=(0,Pt.default)({},e,i,(c,m)=>{if(Array.isArray(c)&&Array.isArray(m))return c.concat(m)}),delete e.allOf,n.specKey=p}let o=F({schema:e,name:t,context:n}),s=w(_nullishCoalesce(o.originalSchema, () => ({})));if(t&&!o.isEnum&&_optionalChain([o, 'optionalAccess', _40 => _40.type])==="object"&&new RegExp(/{|&|\|/).test(o.value))return{value:t,imports:[{name:t}],schemas:[...o.schemas,{name:t,model:`${s}export type ${t} = ${o.value};
`,imports:o.imports}],isEnum:!1,type:"object",originalSchema:o.originalSchema,isRef:o.isRef,hasReadonlyProps:o.hasReadonlyProps};if(t&&o.isEnum&&!r&&!o.isRef){let a=ce(o.value,t,_optionalChain([o, 'access', _41 => _41.originalSchema, 'optionalAccess', _42 => _42["x-enumNames"]]));return{value:t,imports:[{name:t}],schemas:[...o.schemas,{name:t,model:s+a,imports:o.imports}],isEnum:!1,type:"enum",originalSchema:o.originalSchema,isRef:o.isRef,hasReadonlyProps:o.hasReadonlyProps}}return o};var Fr=({schema:e,name:t,context:r})=>{if(e.items){let n=W({schema:e.items,propName:t+"Item",context:r});return{value:n.value.includes("|")?`(${n.value})[]`:`${n.value}[]`,imports:n.imports,schemas:n.schemas,isEnum:!1,type:"array",isRef:!1,hasReadonlyProps:n.hasReadonlyProps}}else throw new Error("All arrays must have an `items` key define")};var _lodashuniqby = require('lodash.uniqby'); var _lodashuniqby2 = _interopRequireDefault(_lodashuniqby);var kr=["multipart/form-data"],Br=["application/x-www-form-urlencoded"],Js=({mediaType:e,propName:t,context:r})=>e.schema?W({schema:e.schema,propName:t,context:r}):void 0,de= exports.getResReqTypes =(e,t,r,n="unknown")=>{let o=e.filter(([s,a])=>Boolean(a)).map(([s,a])=>{if(G(a)){let{schema:p,imports:[{name:i,specKey:c,schemaName:m}]}=E(a,r),[l,u]=_nullishCoalesce(Object.entries(_nullishCoalesce(p.content, () => ({})))[0], () => ([])),f=kr.includes(l),d=Br.includes(l);if(!f&&!d||!_optionalChain([u, 'optionalAccess', _43 => _43.schema]))return[{value:i,imports:[{name:i,specKey:c,schemaName:m}],schemas:[],type:"unknown",isEnum:!1,isRef:!0,hasReadonlyProps:!1,originalSchema:_optionalChain([u, 'optionalAccess', _44 => _44.schema]),key:s,contentType:l}];let y=f?Le({name:i,schemaObject:_optionalChain([u, 'optionalAccess', _45 => _45.schema]),context:{...r,specKey:c||r.specKey},isRef:!0}):void 0,g=d?Le({name:i,schemaObject:_optionalChain([u, 'optionalAccess', _46 => _46.schema]),context:{...r,specKey:c||r.specKey},isUrlEncoded:!0,isRef:!0}):void 0;return[{value:i,imports:[{name:i,specKey:c,schemaName:m}],schemas:[],type:"unknown",isEnum:!1,hasReadonlyProps:!1,formData:y,formUrlEncoded:g,isRef:!0,originalSchema:_optionalChain([u, 'optionalAccess', _47 => _47.schema]),key:s,contentType:l}]}return a.content?Object.entries(a.content).map(([i,c],m,l)=>{let u=s?h(t)+h(s):void 0;u&&l.length>1&&(u=u+h(Ne(m+1)));let f=Js({mediaType:c,propName:u,context:r});if(!f)return;let d=kr.includes(i),y=Br.includes(i);if(!d&&!y||!u)return{...f,imports:f.imports,contentType:i};let g=d?Le({name:u,schemaObject:c.schema,context:r}):void 0,S=y?Le({name:u,schemaObject:c.schema,context:r,isUrlEncoded:!0}):void 0;return{...f,imports:f.imports,formData:g,formUrlEncoded:S,contentType:i}}).filter(i=>i).map(i=>({...i,key:s})):[{value:n,imports:[],schemas:[],type:n,isEnum:!1,key:s,isRef:!1,hasReadonlyProps:!1,contentType:"application/json"}]});return _lodashuniqby2.default.call(void 0, o.flatMap(s=>s),"value")},Le=({name:e,schemaObject:t,context:r,isUrlEncoded:n,isRef:o})=>{let{schema:s,imports:a}=E(t,r),p=x(!o&&G(t)?a[0].name:e),i=n?"formUrlEncoded":"formData",c=n?`const ${i} = new URLSearchParams();
`:`const ${i} = new FormData();
`;if(s.type==="object"&&s.properties){let m=Object.entries(s.properties).reduce((l,[u,f])=>{let{schema:d}=E(f,r),y="",g=_esutils.keyword.isIdentifierNameES5(u)?`.${u}`:`['${u}']`;d.type==="object"?y=`${i}.append('${u}', JSON.stringify(${p}${g}));
`:d.type==="array"?y=`${p}${g}.forEach(value => ${i}.append('${u}', value));
`:d.type==="number"||d.type==="integer"||d.type==="boolean"?y=`${i}.append('${u}', ${p}${g}.toString())
`:y=`${i}.append('${u}', ${p}${g})
`;let S=_optionalChain([s, 'access', _48 => _48.required, 'optionalAccess', _49 => _49.includes, 'call', _50 => _50(u)]);return d.nullable?S?l+`if(${p}${g} !== null) {
 ${y} }
`:l+`if(${p}${g} !== undefined && ${p}${g} !== null) {
 ${y} }
`:S?l+y:l+`if(${p}${g} !== undefined) {
 ${y} }
`},"");return`${c}${m}`}return s.type==="array"?`${c}${p}.forEach(value => ${i}.append('data', value))
`:s.type==="number"||s.type==="boolean"?`${c}${i}.append('data', ${p}.toString())
`:`${c}${i}.append('data', ${p})
`};var Wr=({requestBody:e,operationName:t,context:r,contentType:n})=>{let o=de([[r.override.components.requestBodies.suffix,e]],t,r),s=n?o.filter(u=>{let f=!0,d=!1;return n.include&&(f=n.include.includes(u.contentType)),n.exclude&&(d=n.exclude.includes(u.contentType)),f&&!d}):o,a=s.flatMap(({imports:u})=>u),p=s.flatMap(({schemas:u})=>u),i=s.map(({value:u})=>u).join(" | "),m=s.some(u=>u.hasReadonlyProps)&&i?`NonReadonly<${i}>`:i,l=Re.includes(i.toLowerCase())||s.length>1?x(t)+r.override.components.requestBodies.suffix:x(i);return{originalSchema:e,definition:m,implementation:l,imports:a,schemas:p,...s.length===1?{formData:s[0].formData,formUrlEncoded:s[0].formUrlEncoded,contentType:s[0].contentType}:{formData:"",formUrlEncoded:"",contentType:""}}};var _lodashomit = require('lodash.omit'); var _lodashomit2 = _interopRequireDefault(_lodashomit);var Ke=e=>_esutils.keyword.isIdentifierNameES5(e)?e:`'${e}'`;var Vr=({item:e,name:t,context:r,nullable:n})=>{if(G(e)){let{name:o,specKey:s}=me(e.$ref,r);return{value:o+n,imports:[{name:o,specKey:s}],schemas:[],isEnum:!1,type:"object",isRef:!0,hasReadonlyProps:e.readOnly||!1}}if(e.allOf||e.oneOf||e.anyOf){let o=e.allOf?"allOf":e.oneOf?"oneOf":"anyOf";return wt({schema:e,name:t,separator:o,context:r,nullable:n})}if(e.type instanceof Array)return wt({schema:{anyOf:e.type.map(o=>({type:o}))},name:t,separator:"anyOf",context:r,nullable:n});if(e.properties&&Object.entries(e.properties).length>0)return Object.entries(e.properties).reduce((o,[s,a],p,i)=>{let c=(Array.isArray(e.required)?e.required:[]).includes(s),m="";if(t){let g=s.startsWith("_");m+=h(`${g?"_":""}${t}_${s}`)}let l=_nullishCoalesce(_optionalChain([r, 'access', _51 => _51.specs, 'access', _52 => _52[r.target], 'optionalAccess', _53 => _53.components, 'optionalAccess', _54 => _54.schemas]), () => ({}));Object.keys(l).some(g=>h(g)===m)&&(m=m+"Property");let f=W({schema:a,propName:m,context:r}),d=e.readOnly||a.readOnly;p||(o.value+="{");let y=w(f.originalSchema,!0);if(o.hasReadonlyProps||=d||!1,o.imports.push(...f.imports),o.value+=`
  ${y?`${y}  `:""}${d?"readonly ":""}${Ke(s)}${c?"":"?"}: ${f.value};`,o.schemas.push(...f.schemas),i.length-1===p){if(e.additionalProperties)if(ye(e.additionalProperties))o.value+=`
  [key: string]: any;
 }`;else{let g=F({schema:e.additionalProperties,name:t,context:r});o.value+=`
  [key: string]: ${g.value};
}`}else o.value+=`
}`;o.value+=n}return o},{imports:[],schemas:[],value:"",isEnum:!1,type:"object",isRef:!1,schema:{},hasReadonlyProps:!1});if(e.additionalProperties){if(ye(e.additionalProperties))return{value:"{ [key: string]: any }"+n,imports:[],schemas:[],isEnum:!1,type:"object",isRef:!1,hasReadonlyProps:e.readOnly||!1};let o=F({schema:e.additionalProperties,name:t,context:r});return{value:`{[key: string]: ${o.value}}`+n,imports:_nullishCoalesce(o.imports, () => ([])),schemas:_nullishCoalesce(o.schemas, () => ([])),isEnum:!1,type:"object",isRef:!1,hasReadonlyProps:o.hasReadonlyProps}}return{value:e.type==="object"?"{ [key: string]: any }":"unknown"+n,imports:[],schemas:[],isEnum:!1,type:"object",isRef:!1,hasReadonlyProps:e.readOnly||!1}};var te=({item:e,name:t,context:r})=>{let n=e.nullable?" | null":"";switch(!e.type&&e.items&&(e.type="array"),e.type){case"number":case"integer":{let o=e.format==="int64"&&r.override.useBigInt?"bigint":"number",s=!1;return e.enum&&(o=e.enum.map(a=>`${a}`).join(" | "),s=!0),{value:o+n,isEnum:s,type:"number",schemas:[],imports:[],isRef:!1,hasReadonlyProps:e.readOnly||!1}}case"boolean":return{value:"boolean"+n,type:"boolean",isEnum:!1,schemas:[],imports:[],isRef:!1,hasReadonlyProps:e.readOnly||!1};case"array":{let{value:o,...s}=Fr({schema:e,name:t,context:r});return{value:o+n,...s}}case"string":{let o="string",s=!1;return e.enum&&(o=`'${e.enum.map(a=>_(a)?yt(a):`${a}`).filter(Boolean).join("' | '")}'`,s=!0),e.format==="binary"&&(o="Blob"),r.override.useDates&&(e.format==="date"||e.format==="date-time")&&(o="Date"),{value:o+n,isEnum:s,type:"string",imports:[],schemas:[],isRef:!1,hasReadonlyProps:e.readOnly||!1}}case"null":return{value:"null",isEnum:!1,type:"null",imports:[],schemas:[],isRef:!1,hasReadonlyProps:e.readOnly||!1};case"object":default:{if(e.enum)return{value:`'${e.enum.map(p=>_(p)?yt(p):`${p}`).filter(Boolean).join("' | '")}'`+n,isEnum:!0,type:"string",imports:[],schemas:[],isRef:!1,hasReadonlyProps:e.readOnly||!1};let{value:o,...s}=Vr({item:e,name:t,context:r,nullable:n});return{value:o,...s}}}};var Zs=({resolvedData:e,resolvedValue:t,separator:r})=>e.isEnum.every(o=>o)?`${e.values.join(" | ")}${t?` | ${t.value}`:""}`:r==="allOf"?`${e.values.join(" & ")}${t?` & ${t.value}`:""}`:t?`(${e.values.join(` & ${t.value}) | (`)} & ${t.value})`:e.values.join(" | "),wt= exports.combineSchemas =({name:e,schema:t,separator:r,context:n,nullable:o})=>{let s=_nullishCoalesce(t[r], () => ([])),a=s.reduce((m,l)=>{let u=e?e+h(r):void 0;u&&m.schemas.length&&(u=u+h(Ne(m.schemas.length+1)));let f=W({schema:l,propName:u,combined:!0,context:n});return m.values.push(f.value),m.imports.push(...f.imports),m.schemas.push(...f.schemas),m.isEnum.push(f.isEnum),m.types.push(f.type),m.isRef.push(f.isRef),m.originalSchema.push(f.originalSchema),m.hasReadonlyProps||=f.hasReadonlyProps,m},{values:[],imports:[],schemas:[],isEnum:[],isRef:[],types:[],originalSchema:[],hasReadonlyProps:!1}),p=a.isEnum.every(m=>m),i;t.properties&&(i=te({item:_lodashomit2.default.call(void 0, t,r),name:e,context:n}));let c=Zs({resolvedData:a,separator:r,resolvedValue:i});if(p&&e&&s.length>1){let m=`

// eslint-disable-next-line @typescript-eslint/no-redeclare
export const ${h(e)} = ${ea(a)}`;return{value:`typeof ${h(e)}[keyof typeof ${h(e)}] ${o};`+m,imports:a.imports.map(l=>({...l,values:!0})),schemas:a.schemas,isEnum:!1,type:"object",isRef:!1,hasReadonlyProps:a.hasReadonlyProps}}return{value:c+o,imports:i?[...a.imports,...i.imports]:a.imports,schemas:i?[...a.schemas,...i.schemas]:a.schemas,isEnum:!1,type:"object",isRef:!1,hasReadonlyProps:_optionalChain([a, 'optionalAccess', _55 => _55.hasReadonlyProps])||_optionalChain([i, 'optionalAccess', _56 => _56.hasReadonlyProps])||!1}},ea=({values:e,isRef:t,originalSchema:r})=>e.length===1?t[0]?e[0]:`{${_e(e[0])}} as const`:`{${e.map((o,s)=>{if(t[s])return`...${o},`;let a=_optionalChain([r, 'access', _57 => _57[s], 'optionalAccess', _58 => _58["x-enumNames"]]);return _e(o,a)}).join("")}} as const`;var Ur=(e,t)=>{let r={...e};for(let n of Object.values(r))if(_optionalChain([n, 'access', _59 => _59.discriminator, 'optionalAccess', _60 => _60.mapping])){let{mapping:o,propertyName:s}=n.discriminator;for(let[a,p]of Object.entries(o)){let i;try{let{name:c}=me(p,t);i=r[c]}catch (e7){i=r[p]}!i||(i.properties={...i.properties,[s]:{type:"string",enum:[a]}},i.required=[..._nullishCoalesce(i.required, () => ([])),s])}}return r};var qr=(e,t,r)=>e.operationId?e.operationId:h([r,...t.split("/").map(n=>P(n,{dash:!0,underscore:"-",dot:"-",whitespace:"-"}))].join("-"));var zr=({parameters:e=[],context:t})=>e.reduce((r,n)=>{if(G(n)){let{schema:o,imports:s}=E(n,t);(o.in==="path"||o.in==="query"||o.in==="header")&&r[o.in].push({parameter:o,imports:s})}else(n.in==="query"||n.in==="path"||n.in==="header")&&r[n.in].push({parameter:n,imports:[]});return r},{path:[],query:[],header:[]});var ta=e=>{let t,r=[],n=/\{(.*?)\}/g;for(;(t=n.exec(e))!==null;)r.push(t[1]);return r},Lr= exports.getParams =({route:e,pathParams:t=[],operationId:r,context:n})=>ta(e).map(s=>{let a=t.find(({parameter:d})=>P(x(d.name),{es5keyword:!0,underscore:!0,dash:!0})===s);if(!a)throw new Error(`The path params ${s} can't be found in parameters (${r})`);let{name:p,required:i=!1,schema:c}=a.parameter,m=P(x(p),{es5keyword:!0});if(!c)return{name:m,definition:`${m}${i?"":"?"}: unknown`,implementation:`${m}${i?"":"?"}: unknown`,default:!1,required:i,imports:[]};let l=F({schema:c,context:{...n,...a.imports.length?{specKey:a.imports[0].specKey}:{}}}),u=`${m}${!i||l.originalSchema.default?"?":""}: ${l.value}`,f=`${m}${!i&&!l.originalSchema.default?"?":""}${l.originalSchema.default?`= ${Q(l.originalSchema.default)}`:`: ${l.value}`}`;return{name:m,definition:u,implementation:f,default:l.originalSchema.default,required:i,imports:l.imports,originalSchema:l.originalSchema}});var Kr=({body:e,queryParams:t,params:r,headers:n})=>{let o={name:e.implementation,definition:`${e.implementation}: ${e.definition}`,implementation:`${e.implementation}: ${e.definition}`,default:!1,required:!0,type:ge.BODY},s={name:"params",definition:`params${_optionalChain([t, 'optionalAccess', _61 => _61.isOptional])?"?":""}: ${_optionalChain([t, 'optionalAccess', _62 => _62.schema, 'access', _63 => _63.name])}`,implementation:`params${_optionalChain([t, 'optionalAccess', _64 => _64.isOptional])?"?":""}: ${_optionalChain([t, 'optionalAccess', _65 => _65.schema, 'access', _66 => _66.name])}`,default:!1,required:he(_optionalChain([t, 'optionalAccess', _67 => _67.isOptional]))?!1:!_optionalChain([t, 'optionalAccess', _68 => _68.isOptional]),type:ge.QUERY_PARAM},a={name:"headers",definition:`headers${_optionalChain([n, 'optionalAccess', _69 => _69.isOptional])?"?":""}: ${_optionalChain([n, 'optionalAccess', _70 => _70.schema, 'access', _71 => _71.name])}`,implementation:`headers${_optionalChain([n, 'optionalAccess', _72 => _72.isOptional])?"?":""}: ${_optionalChain([n, 'optionalAccess', _73 => _73.schema, 'access', _74 => _74.name])}`,default:!1,required:he(_optionalChain([n, 'optionalAccess', _75 => _75.isOptional]))?!1:!_optionalChain([n, 'optionalAccess', _76 => _76.isOptional]),type:ge.HEADER},p=[...r.map(c=>({...c,type:ge.PARAM})),...e.definition?[o]:[],...t?[s]:[],...n?[a]:[]];return ar(p)};var ra=(e,t,r)=>e.map(({parameter:n,imports:o})=>{let{name:s,required:a,schema:p,content:i}=n,c=P(`${h(t)}${h(s)}`,{underscore:"_",whitespace:"_",dash:!0,es5keyword:!0,es5IdentifierName:!0}),m=p||i["application/json"].schema,l=F({schema:m,context:r,name:c}),u=Ke(s),f=w(n);if(o.length)return{definition:`${f}${u}${!a||m.default?"?":""}: ${o[0].name};`,imports:o,schemas:[],originalSchema:l.originalSchema};if(l.isEnum&&!l.isRef){let y=c,g=ce(l.value,y,_optionalChain([l, 'access', _77 => _77.originalSchema, 'optionalAccess', _78 => _78["x-enumNames"]]));return{definition:`${f}${u}${!a||m.default?"?":""}: ${y};`,imports:[{name:y}],schemas:[...l.schemas,{name:y,model:g,imports:l.imports}],originalSchema:l.originalSchema}}return{definition:`${f}${u}${!a||m.default?"?":""}: ${l.value};`,imports:l.imports,schemas:l.schemas,originalSchema:l.originalSchema}}),Mt= exports.getQueryParams =({queryParams:e=[],operationName:t,context:r,suffix:n="params"})=>{if(!e.length)return;let o=ra(e,t,r),s=o.flatMap(({imports:l})=>l),a=o.flatMap(({schemas:l})=>l),p=`${h(t)}${h(n)}`,i=o.map(({definition:l})=>l).join(`
`),c=e.every(({parameter:l})=>!l.required);return{schema:{name:p,model:`export type ${p} = {
${i}
};
`,imports:s},deps:a,isOptional:c}};var Hr=({responses:e,operationName:t,context:r,contentType:n})=>{if(!e)return{imports:[],definition:{success:"",errors:""},isBlob:!1,types:{success:[],errors:[]},schemas:[],contentTypes:[]};let o=de(Object.entries(e),t,r,"void"),s=n?o.filter(u=>{let f=!0,d=!1;return n.include&&(f=n.include.includes(u.contentType)),n.exclude&&(d=n.exclude.includes(u.contentType)),f&&!d}):o,a=s.reduce((u,f)=>(f.key.startsWith("2")?u.success.push(f):u.errors.push(f),u),{success:[],errors:[]}),p=s.flatMap(({imports:u})=>u),i=s.flatMap(({schemas:u})=>u),c=[...new Set(s.map(({contentType:u})=>u))],m=a.success.map(({value:u,formData:f})=>f?"Blob":u).join(" | "),l=a.errors.map(({value:u})=>u).join(" | ");return{imports:p,definition:{success:m||"unknown",errors:l||"unknown"},isBlob:m==="Blob",types:a,contentTypes:c,schemas:i,originalSchema:e}};var Qr=e=>/[^{]*{[\w*_-]*}.*/.test(e),Jr=e=>{let t=e.match(/([^{]*){?([\w*_-]*)}?(.*)/);if(!_optionalChain([t, 'optionalAccess', _79 => _79.length]))return e;let r=t[1],n=P(x(t[2]),{es5keyword:!0,underscore:!0,dash:!0,dot:!0}),o=Qr(t[3])?Jr(t[3]):t[3];return Qr(e)?`${r}\${${n}}${o}`:`${r}${n}${o}`},Ic= exports.getRoute =e=>e.split("/").reduce((r,n,o)=>!n&&!o?r:n.includes("{")?`${r}/${Jr(n)}`:`${r}/${n}`,"");var rm=(e={},t,r)=>_lodashisempty2.default.call(void 0, e)?[]:Object.entries(e).reduce((n,[o,s])=>{let a=de([[r,s]],o,t,"void"),p=a.flatMap(({imports:f})=>f),i=a.flatMap(({schemas:f})=>f),c=a.map(({value:f})=>f).join(" | "),m=P(`${h(o)}${r}`,{underscore:"_",whitespace:"_",dash:!0,es5keyword:!0,es5IdentifierName:!0}),u=`${w(s)}export type ${m} = ${c||"unknown"};
`;return n.push(...i),m!==c&&n.push({name:m,model:u,imports:p}),n},[]);var _lodashuniq = require('lodash.uniq'); var _lodashuniq2 = _interopRequireDefault(_lodashuniq);var _lodashuniqwith = require('lodash.uniqwith'); var _lodashuniqwith2 = _interopRequireDefault(_lodashuniqwith);var Zr=({imports:e=[],target:t,isRootKey:r,specsName:n,specKey:o})=>e.length?_lodashuniqwith2.default.call(void 0, e,(s,a)=>s.name===a.name&&s.default===a.default&&s.specKey===a.specKey).sort().map(({specKey:s,name:a,values:p,alias:i})=>{if(s&&!(o===s)){let m=s!==t?n[s]:"";return!r&&s?`import ${p?"":"type "}{ ${a}${i?` as ${i}`:""} } from '../${b.join(m,x(a))}';`:`import ${p?"":"type "}{ ${a}${i?` as ${i}`:""} } from './${b.join(m,x(a))}';`}return`import ${p?"":"type "}{ ${a}${i?` as ${i}`:""} } from './${x(a)}';`}).join(`
`):"",v= exports.generateMutatorImports =({mutators:e,implementation:t,oneMore:r})=>_lodashuniqwith2.default.call(void 0, e,(o,s)=>o.name===s.name&&o.default===s.default).reduce((o,s)=>{let a=`${r?"../":""}${s.path}`;if(o+=`import ${s.default?s.name:`{ ${s.name} }`} from '${a}';`,o+=`
`,t&&(s.hasErrorType||s.bodyTypeName)){let i="";s.hasErrorType&&t.includes(s.errorTypeName)&&!o.includes(s.errorTypeName)&&(i=s.default?`ErrorType as ${s.errorTypeName}`:s.errorTypeName);let c="";s.bodyTypeName&&t.includes(s.bodyTypeName)&&!o.includes(s.bodyTypeName)&&(c=s.default?`BodyType as ${s.bodyTypeName}`:s.bodyTypeName),(c||i)&&(o+=`import type { ${i}${i&&c?", ":""}${c} } from '${a}';`,o+=`
`)}return o},""),Yr=({deps:e,isAllowSyntheticDefaultImports:t,dependency:r,specsName:n,key:o,onlyTypes:s})=>{let a=e.find(l=>l.default&&(t||!l.syntheticDefaultImport)),p=t?void 0:e.find(l=>l.syntheticDefaultImport),i=_lodashuniq2.default.call(void 0, e.filter(l=>!l.default&&!l.syntheticDefaultImport).map(({name:l,alias:u})=>u?`${l} as ${u}`:l)).join(`,
  `),c="",m=p?`import * as ${p.name} from '${r}';`:"";if(m){if(e.length===1)return m;c+=`${m}
`}return c+=`import ${s?"type ":""}${a?`${a.name}${i?",":""}`:""}${i?`{
  ${i}
}`:""} from '${r}${o!=="default"&&n[o]?`/${n[o]}`:""}'`,c},sa= exports.addDependency =({implementation:e,exports:t,dependency:r,specsName:n,hasSchemaDir:o,isAllowSyntheticDefaultImports:s})=>{let a=t.filter(i=>e.includes(i.alias||i.name));if(!a.length)return;let p=a.reduce((i,c)=>{let m=o&&c.specKey?c.specKey:"default";return c.values&&(s||!c.syntheticDefaultImport)?(i[m]={...i[m],values:[..._nullishCoalesce(_optionalChain([i, 'access', _80 => _80[m], 'optionalAccess', _81 => _81.values]), () => ([])),c]},i):(i[m]={...i[m],types:[..._nullishCoalesce(_optionalChain([i, 'access', _82 => _82[m], 'optionalAccess', _83 => _83.types]), () => ([])),c]},i)},{});return Object.entries(p).map(([i,{values:c,types:m}])=>{let l="";return c&&(l+=Yr({deps:c,isAllowSyntheticDefaultImports:s,dependency:r,specsName:n,key:i,onlyTypes:!1})),m&&(c&&(l+=`
`),l+=Yr({deps:m,isAllowSyntheticDefaultImports:s,dependency:r,specsName:n,key:i,onlyTypes:!0})),l}).join(`
`)},im= exports.generateDependencyImports =(e,t,r,n,o)=>{let s=t.map(a=>sa({...a,implementation:e,specsName:r,hasSchemaDir:n,isAllowSyntheticDefaultImports:o})).filter(Boolean).join(`
`);return s?s+`
`:""},pm= exports.generateVerbImports =({response:e,body:t,queryParams:r,headers:n,params:o})=>[...e.imports,...t.imports,...r?[{name:r.schema.name}]:[],...n?[{name:n.schema.name}]:[],...o.flatMap(({imports:s})=>s)];var aa=(e,t)=>e+`${t}
`,Y= exports.generateModelsInline =e=>Object.values(e).flatMap(r=>r).sort((r,n)=>r.imports.some(o=>o.name===n.name)?1:-1).reduce((r,{model:n})=>aa(r,n),"");var _acorn = require('acorn');var _fsextra = require('fs-extra'); var _fsextra2 = _interopRequireDefault(_fsextra);var He="BodyType",tn=(e,t)=>{let r=R(e),n=R(t.path),{pathWithoutExtension:o}=R(b.relativeSafe(r.dirname,n.path));return o},Je= exports.generateMutator =async({output:e,mutator:t,name:r,workspace:n,tsconfig:o})=>{if(!t||!e)return;let s=t.default,a=t.name?t.name:`${r}Mutator`,p=t.path,i=await _fsextra2.default.readFile(p,"utf8"),c=i.includes("export type ErrorType")||i.includes("export interface ErrorType"),m=i.includes(`export type ${He}`)||i.includes(`export interface ${He}`),l=t.default?`${h(r)}ErrorType`:"ErrorType",u=t.default?`${h(r)}${He}`:He,{file:f,cached:d}=await zt(p,{isDefault:!1,root:n,alias:t.alias,tsconfig:o,load:!1});if(f){let y=s?"default":t.name,g=ca(f,y);g||(Z().error(_chalk2.default.red(`Your mutator file doesn't have the ${y} exported function`)),process.exit(1));let S=tn(e,t),T=t.name?!!t.name.startsWith("use")&&!g.numberOfParams:!g.numberOfParams;return{name:t.name||!T?a:`use${h(a)}`,path:S,default:s,hasErrorType:c,errorTypeName:l,hasSecondArg:T?g.returnNumberOfParams>1:g.numberOfParams>1,hasThirdArg:g.numberOfParams>2,isHook:T,...m?{bodyTypeName:u}:{}}}else{let y=tn(e,t);return d||Z().warn(_chalk2.default.yellow("Failed to parse provided mutator function")),{name:a,path:y,default:s,hasSecondArg:!1,hasThirdArg:!1,isHook:!1,hasErrorType:c,errorTypeName:l,...m?{bodyTypeName:u}:{}}}},ca=(e,t)=>{try{let r=_acorn.Parser.parse(e,{ecmaVersion:6}),n=_optionalChain([r, 'optionalAccess', _84 => _84.body, 'optionalAccess', _85 => _85.find, 'call', _86 => _86(s=>{if(s.type==="ExpressionStatement")return _optionalChain([s, 'access', _87 => _87.expression, 'access', _88 => _88.arguments, 'optionalAccess', _89 => _89[1], 'optionalAccess', _90 => _90.properties, 'optionalAccess', _91 => _91.some, 'call', _92 => _92(a=>_optionalChain([a, 'access', _93 => _93.key, 'optionalAccess', _94 => _94.name])===t)])||_optionalChain([s, 'access', _95 => _95.expression, 'access', _96 => _96.left, 'optionalAccess', _97 => _97.property, 'optionalAccess', _98 => _98.name])===t?!0:_optionalChain([s, 'access', _99 => _99.expression, 'access', _100 => _100.right, 'optionalAccess', _101 => _101.properties, 'optionalAccess', _102 => _102.some, 'call', _103 => _103(a=>a.key.name===t)])})]);if(!n)return;if(n.expression.type==="AssignmentExpression"){if(n.expression.right.type==="FunctionExpression"||n.expression.right.type==="ArrowFunctionExpression")return{numberOfParams:n.expression.right.params.length};if(n.expression.right.name)return Qe(r,n.expression.right.name);let s=_optionalChain([n, 'access', _104 => _104.expression, 'access', _105 => _105.right, 'optionalAccess', _106 => _106.properties, 'access', _107 => _107.find, 'call', _108 => _108(a=>a.key.name===t)]);return s.value.name?Qe(r,s.value.name):s.value.type==="FunctionExpression"||s.value.type==="ArrowFunctionExpression"?{numberOfParams:s.value.params.length}:void 0}let o=n.expression.arguments[1].properties.find(s=>_optionalChain([s, 'access', _109 => _109.key, 'optionalAccess', _110 => _110.name])===t);return Qe(r,o.value.body.name)}catch (e8){return}},Qe=(e,t)=>{let r=_optionalChain([e, 'optionalAccess', _111 => _111.body, 'optionalAccess', _112 => _112.find, 'call', _113 => _113(s=>{if(s.type==="VariableDeclaration")return s.declarations.find(a=>a.id.name===t);if(s.type==="FunctionDeclaration"&&s.id.name===t)return s})]);if(!r)return;if(r.type==="FunctionDeclaration"){let s=_optionalChain([r, 'access', _114 => _114.body, 'optionalAccess', _115 => _115.body, 'optionalAccess', _116 => _116.find, 'call', _117 => _117(a=>a.type==="ReturnStatement")]);return _optionalChain([s, 'optionalAccess', _118 => _118.argument, 'optionalAccess', _119 => _119.params])?{numberOfParams:r.params.length,returnNumberOfParams:s.argument.params.length}:{numberOfParams:r.params.length}}let n=r.declarations.find(s=>s.id.name===t);if(n.init.name)return Qe(e,n.init.name);if(n.init.body.type==="ArrowFunctionExpression")return{numberOfParams:n.init.params.length,returnNumberOfParams:n.init.body.params.length};let o=_optionalChain([n, 'access', _120 => _120.init, 'access', _121 => _121.body, 'optionalAccess', _122 => _122.body, 'optionalAccess', _123 => _123.find, 'call', _124 => _124(s=>s.type==="ReturnStatement")]);return _optionalChain([o, 'optionalAccess', _125 => _125.argument, 'optionalAccess', _126 => _126.params])?{numberOfParams:n.init.params.length,returnNumberOfParams:o.argument.params.length}:{numberOfParams:n.init.params.length}};var ma=(e,t,r)=>t&&e.formData?`
      formData,`:r&&e.formUrlEncoded?`
      formUrlEncoded,`:e.implementation?`
      ${e.implementation},`:"",la= exports.generateAxiosOptions =({response:e,isExactOptionalPropertyTypes:t,queryParams:r,headers:n,requestOptions:o,hasSignal:s})=>{let a=o!==!1;if(!r&&!n&&!e.isBlob)return a?"options":s?t?"...(signal ? { signal } : {})":"signal":"";let p="";return a||(r&&(p+=`
        params,`),n&&(p+=`
        headers,`),s&&(p+=t?`
        ...(signal ? { signal } : {}),`:`
        signal,`)),e.isBlob&&(!D(o)||!o.hasOwnProperty("responseType"))&&(p+=`
        responseType: 'blob',`),D(o)&&(p+=`
 ${_optionalChain([Q, 'call', _127 => _127(o), 'optionalAccess', _128 => _128.slice, 'call', _129 => _129(1,-1)])}`),a&&(p+=`
    ...options,`,r&&(p+=`
        params: {...params, ...options?.params},`),n&&(p+=`
        headers: {...headers, ...options?.headers},`)),p},Rm= exports.generateOptions =({route:e,body:t,headers:r,queryParams:n,response:o,verb:s,requestOptions:a,isFormData:p,isFormUrlEncoded:i,isAngular:c,isExactOptionalPropertyTypes:m,hasSignal:l})=>{let u=Nt.includes(s),f=u?ma(t,p,i):"",d=la({response:o,queryParams:_optionalChain([n, 'optionalAccess', _130 => _130.schema]),headers:_optionalChain([r, 'optionalAccess', _131 => _131.schema]),requestOptions:a,isExactOptionalPropertyTypes:m,hasSignal:l}),y=d?`{${d}}`:"";return s===V.DELETE?f?`
      \`${e}\`,{${c?"body":"data"}:${f} ${d==="options"?`...${d}`:d}}
    `:`
      \`${e}\`,${d==="options"?d:y}
    `:`
      \`${e}\`,${u?f||"undefined,":""}${d==="options"?d:y}
    `},ua= exports.generateBodyMutatorConfig =(e,t,r)=>t&&e.formData?`,
       data: formData`:r&&e.formUrlEncoded?`,
       data: formUrlEncoded`:e.implementation?`,
      data: ${e.implementation}`:"",fa= exports.generateQueryParamsAxiosConfig =(e,t)=>{if(!t&&!e.isBlob)return"";let r="";return t&&(r+=`,
        params`),e.isBlob&&(r+=`,
        responseType: 'blob'`),r},vm= exports.generateMutatorConfig =({route:e,body:t,headers:r,queryParams:n,response:o,verb:s,isFormData:a,isFormUrlEncoded:p,isBodyVerb:i,hasSignal:c,isExactOptionalPropertyTypes:m})=>{let l=i?ua(t,a,p):"",u=fa(o,n),f=t.contentType?`,
      headers: {'Content-Type': '${t.contentType}', ${r?"...headers":""}}`:r?`,
      headers`:"";return`{url: \`${e}\`, method: '${s}'${f}${l}${u}${!i&&c?`, ${m?"...(signal ? { signal }: {})":"signal"}`:""}
    }`},Tm= exports.generateMutatorRequestOptions =(e,t)=>t?D(e)?`{${_optionalChain([Q, 'call', _132 => _132(e), 'optionalAccess', _133 => _133.slice, 'call', _134 => _134(1,-1)])} ...options}`:"options":D(e)?`{${_optionalChain([Q, 'call', _135 => _135(e), 'optionalAccess', _136 => _136.slice, 'call', _137 => _137(1,-1)])}}`:"",Pm= exports.generateFormDataAndUrlEncodedFunction =({body:e,formData:t,formUrlEncoded:r,isFormData:n,isFormUrlEncoded:o})=>n&&e.formData?t?`const formData = ${t.name}(${e.implementation})`:e.formData:o&&e.formUrlEncoded?r?`const formUrlEncoded = ${r.name}(${e.implementation})`:e.formUrlEncoded:"";var Cm=(e={},t,r)=>Object.entries(e).reduce((n,[o,s])=>{let a=P(`${h(o)}${r}`,{underscore:"_",whitespace:"_",dash:!0,es5keyword:!0,es5IdentifierName:!0}),{schema:p,imports:i}=E(s,t);if(p.in!=="query")return n;if(!p.schema||i.length)return n.push({name:a,imports:i.length?[{name:i[0].name,specKey:i[0].specKey,schemaName:i[0].schemaName}]:[],model:`export type ${a} = ${i.length?i[0].name:"unknown"};
`}),n;let c=W({schema:p.schema,propName:a,context:t}),l=`${w(s)}export type ${a} = ${c.value||"unknown"};
`;return n.push(...c.schemas),a!==c.value&&n.push({name:a,model:l,imports:c.imports}),n},[]);var rn=({name:e,schema:t,context:r,suffix:n})=>{let o=te({item:t,name:e,context:r}),s=o.value==="{}",a="";a+=w(t),s&&(r.tslint?a+=`// tslint:disable-next-line:no-empty-interface
`:a+=`// eslint-disable-next-line @typescript-eslint/no-empty-interface
`),!Re.includes(o.value)&&!_optionalChain([r, 'optionalAccess', _138 => _138.override, 'optionalAccess', _139 => _139.useTypeOverInterfaces])?a+=`export interface ${e} ${o.value}
`:a+=`export type ${e} = ${o.value};
`;let p=o.imports.filter(i=>i.name!==e);return[...o.schemas,{name:e,model:a,imports:p}]};var Vm=(e={},t,r)=>{if(_lodashisempty2.default.call(void 0, e))return[];let n=Ur(e,t);return Object.entries(n).reduce((s,[a,p])=>{let i=P(`${h(a)}${r}`,{underscore:"_",whitespace:"_",dash:!0,es5keyword:!0,es5IdentifierName:!0});if((!p.type||p.type==="object")&&!p.allOf&&!p.oneOf&&!p.anyOf&&!G(p)&&!p.nullable&&!p.enum)return s.push(...rn({name:i,schema:p,context:t,suffix:r})),s;{let c=F({schema:p,name:i,context:t}),m="",l=c.imports;if(m+=w(p),c.isEnum&&!c.isRef)m+=ce(c.value,i,_optionalChain([c, 'access', _140 => _140.originalSchema, 'optionalAccess', _141 => _141["x-enumNames"]]));else if(i===c.value&&c.isRef){let u=c.imports.find(f=>f.name===i);if(!u)m+=`export type ${i} = ${c.value};
`;else{let f=_optionalChain([u, 'optionalAccess', _142 => _142.specKey])?`${h(b.getSpecName(u.specKey,t.specKey))}${c.value}`:`${c.value}Bis`;m+=`export type ${i} = ${f};
`,l=l.map(d=>d.name===i?{...d,alias:f}:d)}}else m+=`export type ${i} = ${c.value};
`;return s.push(...c.schemas,{name:i,model:m,imports:l}),s}},[])};var ga=async({verb:e,output:t,operation:r,route:n,verbParameters:o=[],context:s})=>{let{responses:a,requestBody:p,parameters:i,tags:c=[],deprecated:m,description:l,summary:u}=r,f=qr(r,n,e),d=t.override.operations[r.operationId],y=Object.entries(t.override.tags).reduce((At,[an,pn])=>c.includes(an)?gt(At,pn):At,{}),g={...t.override,...y,...d},S=_optionalChain([d, 'optionalAccess', _143 => _143.operationName])||_optionalChain([t, 'access', _144 => _144.override, 'optionalAccess', _145 => _145.operationName]),T=S?S(r,n,e):x(f),$=P(T,{es5keyword:!0}),N=Hr({responses:a,operationName:$,context:s,contentType:g.contentType}),O=Wr({requestBody:p,operationName:$,context:s,contentType:g.contentType}),I=zr({parameters:[...o,..._nullishCoalesce(i, () => ([]))],context:s}),M=Mt({queryParams:I.query,operationName:$,context:s}),A=t.headers?await Mt({queryParams:I.header,operationName:$,context:s,suffix:"headers"}):void 0,z=Lr({route:n,pathParams:I.path,operationId:f,context:s}),se=Kr({body:O,queryParams:M,params:z,headers:A}),ae=await Je({output:t.target,name:$,mutator:_optionalChain([g, 'optionalAccess', _146 => _146.mutator]),workspace:s.workspace,tsconfig:s.tsconfig}),et=_(_optionalChain([g, 'optionalAccess', _147 => _147.formData]))||D(_optionalChain([g, 'optionalAccess', _148 => _148.formData]))?await Je({output:t.target,name:$,mutator:g.formData,workspace:s.workspace,tsconfig:s.tsconfig}):void 0,on=_(_optionalChain([g, 'optionalAccess', _149 => _149.formUrlEncoded]))||D(_optionalChain([g, 'optionalAccess', _150 => _150.formUrlEncoded]))?await Je({output:t.target,name:$,mutator:g.formUrlEncoded,workspace:s.workspace,tsconfig:s.tsconfig}):void 0,sn=w({description:l,deprecated:m,summary:u}),Et={verb:e,tags:c,summary:r.summary,operationId:f,operationName:$,response:N,body:O,headers:A,queryParams:M,params:z,props:se,mutator:ae,formData:et,formUrlEncoded:on,override:g,doc:sn,deprecated:m},It=await sr(_optionalChain([g, 'optionalAccess', _151 => _151.transformer]),s.workspace);return It?It(Et):Et},Km= exports.generateVerbsOptions =({verbs:e,input:t,output:r,route:n,context:o})=>rr(ya(e,t.filters),async(s,[a,p])=>{if(tr(a)){let i=await ga({verb:a,output:r,verbParameters:e.parameters,route:n,operation:p,context:o});s.push(i)}return s},[]),ya=(e,t)=>t===void 0||t.tags===void 0?Object.entries(e):Object.entries(e).filter(([r,n])=>_optionalChain([n, 'access', _152 => _152.tags, 'optionalAccess', _153 => _153.some, 'call', _154 => _154(o=>_optionalChain([t, 'access', _155 => _155.tags, 'optionalAccess', _156 => _156.includes, 'call', _157 => _157(o)]))]));var ha=({schema:{imports:e,model:t},target:r,isRootKey:n,specsName:o,header:s,specKey:a})=>{let p=s;return p+=Zr({imports:e.filter(i=>!t.includes(`type ${i.alias||i.name} =`)&&!t.includes(`interface ${i.alias||i.name} {`)),target:r,isRootKey:n,specsName:o,specKey:a}),p+=e.length?`

`:`
`,p+=t,p},ba=(e,t)=>b.join(e,`/${t}.ts`),Oa= exports.writeModelInline =(e,t)=>e+`${t}
`,il= exports.writeModelsInline =e=>e.reduce((t,{model:r})=>Oa(t,r),""),xa= exports.writeSchema =async({path:e,schema:t,target:r,specKey:n,isRootKey:o,specsName:s,header:a})=>{let p=x(t.name);try{await _fsextra2.default.outputFile(ba(e,p),ha({schema:t,target:r,isRootKey:o,specsName:s,header:a,specKey:n}))}catch(i){throw`Oups... \u{1F37B}. An Error occurred while writing schema ${p} => ${i}`}},pl= exports.writeSchemas =async({schemaPath:e,schemas:t,target:r,specKey:n,isRootKey:o,specsName:s,header:a})=>{let p=b.join(e,"/index.ts");await _fsextra2.default.ensureFile(p),await Promise.all(t.map(i=>xa({path:e,schema:i,target:r,specKey:n,isRootKey:o,specsName:s,header:a})));try{let c=(await _fsextra2.default.readFile(p)).toString(),m=t.filter(d=>!c.includes(`export * from './${x(d.name)}'`)&&!c.includes(`export * from "./${x(d.name)}"`)).map(d=>`export * from './${x(d.name)}';`),u=[..._nullishCoalesce(_optionalChain([c, 'access', _158 => _158.match, 'call', _159 => _159(/export \* from(.*)('|")/g), 'optionalAccess', _160 => _160.map, 'call', _161 => _161(d=>d+";")]), () => ([])),...m].sort().join(`
`),f=`${a}
${u}`;await _fsextra2.default.writeFile(p,f)}catch(i){throw`Oups... \u{1F37B}. An Error occurred while writing schema index file ${p} => ${i}`}};var X=()=>`
// https://stackoverflow.com/questions/49579094/typescript-conditional-types-filter-out-readonly-properties-pick-only-requir/49579497#49579497
type IfEquals<X, Y, A = X, B = never> = (<T>() => T extends X ? 1 : 2) extends <
T,
>() => T extends Y ? 1 : 2
? A
: B;

type WritableKeys<T> = {
[P in keyof T]-?: IfEquals<
  { [Q in P]: T[P] },
  { -readonly [Q in P]: T[P] },
  P
>;
}[keyof T];

type UnionToIntersection<U> =
  (U extends any ? (k: U)=>void : never) extends ((k: infer I)=>void) ? I : never;
type DistributeReadOnlyOverUnions<T> = T extends any ? NonReadonly<T> : never;

type Writable<T> = Pick<T, WritableKeys<T>>;
type NonReadonly<T> = [T] extends [UnionToIntersection<T>] ? {
  [P in keyof Writable<T>]: T[P] extends object
    ? NonReadonly<NonNullable<T[P]>>
    : T[P];
} : DistributeReadOnlyOverUnions<T>;
`;var Xe=(e,t)=>{let r=Object.values(e.operations).map(({operationName:a})=>a),n=_optionalChain([t, 'optionalAccess', _162 => _162.client])===L.ANGULAR,o=e.title({outputClient:t.client,title:h(e.info.title),customTitleFunc:t.override.title}),s=Object.values(e.operations).reduce((a,p,i,c)=>{if(a.imports.push(...p.imports),a.importsMSW.push(...p.importsMSW),a.implementation+=p.implementation+`
`,a.implementationMSW.function+=p.implementationMSW.function,a.implementationMSW.handler+=p.implementationMSW.handler,p.mutator&&a.mutators.push(p.mutator),p.formData&&a.formData.push(p.formData),p.formUrlEncoded&&a.formUrlEncoded.push(p.formUrlEncoded),p.clientMutators&&a.clientMutators.push(...p.clientMutators),i===c.length-1){let m=a.mutators.some(y=>n?y.hasThirdArg:y.hasSecondArg),l=_nullishCoalesce(_nullishCoalesce(_optionalChain([t, 'access', _163 => _163.packageJson, 'optionalAccess', _164 => _164.dependencies, 'optionalAccess', _165 => _165.typescript]), () => (_optionalChain([t, 'access', _166 => _166.packageJson, 'optionalAccess', _167 => _167.devDependencies, 'optionalAccess', _168 => _168.typescript]))), () => ("4.4.0")),u=Ae(l,"4.5.0"),f=e.header({outputClient:t.client,isRequestOptions:t.override.requestOptions!==!1,isMutator:m,isGlobalMutator:!!t.override.mutator,provideIn:t.override.angular.provideIn,hasAwaitedType:u,titles:o});a.implementation=f.implementation+a.implementation,a.implementationMSW.handler=f.implementationMSW+a.implementationMSW.handler;let d=e.footer({outputClient:_optionalChain([t, 'optionalAccess', _169 => _169.client]),operationNames:r,hasMutator:!!a.mutators.length,hasAwaitedType:u,titles:o});a.implementation+=d.implementation,a.implementationMSW.handler+=d.implementationMSW}return a},{imports:[],implementation:"",implementationMSW:{function:"",handler:""},importsMSW:[],mutators:[],clientMutators:[],formData:[],formUrlEncoded:[]});return{...s,implementationMSW:s.implementationMSW.function+s.implementationMSW.handler}};var jl=async({builder:e,output:t,specsName:r,header:n,needSchema:o})=>{try{let{path:s,dirname:a}=R(t.target,{backupFilename:x(e.info.title)}),{imports:p,importsMSW:i,implementation:c,implementationMSW:m,mutators:l,clientMutators:u,formData:f,formUrlEncoded:d}=Xe(e,t),y=n,g=t.schemas?b.relativeSafe(a,R(t.schemas).dirname):void 0,S=J(t.tsconfig);return y+=e.imports({client:t.client,implementation:c,imports:g?[{exports:p.filter(T=>!i.some($=>T.name===$.name)),dependency:g}]:[],specsName:r,hasSchemaDir:!!t.schemas,isAllowSyntheticDefaultImports:S,hasGlobalMutator:!!t.override.mutator,packageJson:t.packageJson}),t.mock&&(y+=e.importsMock({implementation:m,imports:g?[{exports:i,dependency:g}]:[],specsName:r,hasSchemaDir:!!t.schemas,isAllowSyntheticDefaultImports:S})),l&&(y+=v({mutators:l,implementation:c})),u&&(y+=v({mutators:u})),f&&(y+=v({mutators:f})),d&&(y+=v({mutators:d})),c.includes("NonReadonly<")&&(y+=X(),y+=`
`),!t.schemas&&o&&(y+=Y(e.schemas)),y+=`

${c}`,t.mock&&(y+=`

`,y+=m),await _fsextra2.default.outputFile(s,y),[s]}catch(s){throw`Oups... \u{1F37B}. An Error occurred while writing file => ${s}`}};var El=async({builder:e,output:t,specsName:r,header:n,needSchema:o})=>{try{let{filename:s,dirname:a,extension:p}=R(t.target,{backupFilename:x(e.info.title)}),{imports:i,implementation:c,implementationMSW:m,importsMSW:l,mutators:u,clientMutators:f,formData:d,formUrlEncoded:y}=Xe(e,t),g=n,S=n,T=t.schemas?b.relativeSafe(a,R(t.schemas).dirname):"./"+s+".schemas",$=J(t.tsconfig);g+=e.imports({client:t.client,implementation:c,imports:[{exports:i,dependency:T}],specsName:r,hasSchemaDir:!!t.schemas,isAllowSyntheticDefaultImports:$,hasGlobalMutator:!!t.override.mutator,packageJson:t.packageJson}),S+=e.importsMock({implementation:m,imports:[{exports:l,dependency:T}],specsName:r,hasSchemaDir:!!t.schemas,isAllowSyntheticDefaultImports:$});let N=t.schemas?void 0:b.join(a,s+".schemas"+p);if(N&&o){let A=n+Y(e.schemas);await _fsextra2.default.outputFile(b.join(a,s+".schemas"+p),A)}u&&(g+=v({mutators:u,implementation:c})),f&&(g+=v({mutators:f})),d&&(g+=v({mutators:d})),y&&(g+=v({mutators:y})),c.includes("NonReadonly<")&&(g+=X()),g+=`
${c}`,S+=`
${m}`;let O=s+(L.ANGULAR===t.client?".service":"")+p,I=b.join(a,O);await _fsextra2.default.outputFile(b.join(a,O),g);let M=t.mock?b.join(a,s+".msw"+p):void 0;return M&&await _fsextra2.default.outputFile(M,S),[I,...N?[N]:[],...M?[M]:[]]}catch(s){throw`Oups... \u{1F37B}. An Error occurred while splitting => ${s}`}};var $a=e=>({...e,tags:e.tags.length?e.tags:["default"]}),ja=(e,t)=>t.tags.map(Ie).reduce((r,n)=>{let o=r[n];return o?(r[n]={implementation:o.implementation+t.implementation,imports:[...o.imports,...t.imports],importsMSW:[...o.importsMSW,...t.importsMSW],implementationMSW:{function:o.implementationMSW.function+t.implementationMSW.function,handler:o.implementationMSW.handler+t.implementationMSW.handler},mutators:t.mutator?[..._nullishCoalesce(o.mutators, () => ([])),t.mutator]:o.mutators,clientMutators:t.clientMutators?[..._nullishCoalesce(o.clientMutators, () => ([])),...t.clientMutators]:o.clientMutators,formData:t.formData?[..._nullishCoalesce(o.formData, () => ([])),t.formData]:o.formData,formUrlEncoded:t.formUrlEncoded?[..._nullishCoalesce(o.formUrlEncoded, () => ([])),t.formUrlEncoded]:o.formUrlEncoded},r):(r[n]={imports:t.imports,importsMSW:t.importsMSW,mutators:t.mutator?[t.mutator]:[],clientMutators:_nullishCoalesce(t.clientMutators, () => ([])),formData:t.formData?[t.formData]:[],formUrlEncoded:t.formUrlEncoded?[t.formUrlEncoded]:[],implementation:t.implementation,implementationMSW:{function:t.implementationMSW.function,handler:t.implementationMSW.handler}},r)},e),Ze= exports.generateTargetForTags =(e,t)=>{let r=t.client===L.ANGULAR,n=Object.values(e.operations).map($a).reduce((o,s,a,p)=>{let i=ja(o,s);return a===p.length-1?Object.entries(i).reduce((c,[m,l])=>{let u=!!_optionalChain([l, 'access', _170 => _170.mutators, 'optionalAccess', _171 => _171.some, 'call', _172 => _172($=>r?$.hasThirdArg:$.hasSecondArg)]),f=Object.values(e.operations).filter(({tags:$})=>$.includes(m)).map(({operationName:$})=>$),d=_nullishCoalesce(_nullishCoalesce(_optionalChain([t, 'access', _173 => _173.packageJson, 'optionalAccess', _174 => _174.dependencies, 'optionalAccess', _175 => _175.typescript]), () => (_optionalChain([t, 'access', _176 => _176.packageJson, 'optionalAccess', _177 => _177.devDependencies, 'optionalAccess', _178 => _178.typescript]))), () => ("4.4.0")),y=Ae(d,"4.5.0"),g=e.title({outputClient:t.client,title:h(m),customTitleFunc:t.override.title}),S=e.footer({outputClient:_optionalChain([t, 'optionalAccess', _179 => _179.client]),operationNames:f,hasMutator:!!_optionalChain([l, 'access', _180 => _180.mutators, 'optionalAccess', _181 => _181.length]),hasAwaitedType:y,titles:g}),T=e.header({outputClient:t.client,isRequestOptions:t.override.requestOptions!==!1,isMutator:u,isGlobalMutator:!!t.override.mutator,provideIn:t.override.angular.provideIn,hasAwaitedType:y,titles:g});return c[m]={implementation:T.implementation+l.implementation+S.implementation,implementationMSW:{function:l.implementationMSW.function,handler:T.implementationMSW+l.implementationMSW.handler+S.implementationMSW},imports:l.imports,importsMSW:l.importsMSW,mutators:l.mutators,clientMutators:l.clientMutators,formData:l.formData,formUrlEncoded:l.formUrlEncoded},c},{}):i},{});return Object.entries(n).reduce((o,[s,a])=>(o[s]={...a,implementationMSW:a.implementationMSW.function+a.implementationMSW.handler},o),{})};var Ql=async({builder:e,output:t,specsName:r,header:n,needSchema:o})=>{let{filename:s,dirname:a,extension:p}=R(t.target,{backupFilename:x(e.info.title)}),i=Ze(e,t),c=J(t.tsconfig);return(await Promise.all(Object.entries(i).map(async([l,u])=>{try{let{imports:f,implementation:d,implementationMSW:y,importsMSW:g,mutators:S,clientMutators:T,formData:$,formUrlEncoded:N}=u,O=n,I=n,M=t.schemas?"../"+b.relativeSafe(a,R(t.schemas).dirname):"../"+s+".schemas";O+=e.imports({client:t.client,implementation:d,imports:[{exports:f,dependency:M}],specsName:r,hasSchemaDir:!!t.schemas,isAllowSyntheticDefaultImports:c,hasGlobalMutator:!!t.override.mutator,packageJson:t.packageJson}),I+=e.importsMock({implementation:y,imports:[{exports:g,dependency:M}],specsName:r,hasSchemaDir:!!t.schemas,isAllowSyntheticDefaultImports:c});let A=t.schemas?void 0:b.join(a,s+".schemas"+p);if(A&&o){let et=n+Y(e.schemas);await _fsextra2.default.outputFile(A,et)}S&&(O+=v({mutators:S,implementation:d,oneMore:!0})),T&&(O+=v({mutators:T,oneMore:!0})),$&&(O+=v({mutators:$,oneMore:!0})),N&&(O+=v({mutators:N,oneMore:!0})),d.includes("NonReadonly<")&&(O+=X(),O+=`
`),O+=`
${d}`,I+=`
${y}`;let z=l+(L.ANGULAR===t.client?".service":"")+p,se=b.join(a,l,z);await _fsextra2.default.outputFile(se,O);let ae=t.mock?b.join(a,l,l+".msw"+p):void 0;return ae&&await _fsextra2.default.outputFile(ae,I),[se,...A?[A]:[],...ae?[ae]:[]]}catch(f){throw`Oups... \u{1F37B}. An Error occurred while splitting tag ${l} => ${f}`}}))).flatMap(l=>l)};var ru=async({builder:e,output:t,specsName:r,header:n,needSchema:o})=>{let{filename:s,dirname:a,extension:p}=R(t.target,{backupFilename:x(e.info.title)}),i=Ze(e,t),c=J(t.tsconfig);return(await Promise.all(Object.entries(i).map(async([l,u])=>{try{let{imports:f,implementation:d,implementationMSW:y,importsMSW:g,mutators:S,clientMutators:T,formData:$,formUrlEncoded:N}=u,O=n,I=t.schemas?b.relativeSafe(a,R(t.schemas).dirname):"./"+s+".schemas";O+=e.imports({client:t.client,implementation:d,imports:[{exports:f.filter(z=>!g.some(se=>z.name===se.name)),dependency:I}],specsName:r,hasSchemaDir:!!t.schemas,isAllowSyntheticDefaultImports:c,hasGlobalMutator:!!t.override.mutator,packageJson:t.packageJson}),t.mock&&(O+=e.importsMock({implementation:y,imports:[{exports:g,dependency:I}],specsName:r,hasSchemaDir:!!t.schemas,isAllowSyntheticDefaultImports:c}));let M=t.schemas?void 0:b.join(a,s+".schemas"+p);if(M&&o){let z=n+Y(e.schemas);await _fsextra2.default.outputFile(M,z)}S&&(O+=v({mutators:S,implementation:d})),T&&(O+=v({mutators:T})),$&&(O+=v({mutators:$})),N&&(O+=v({mutators:N})),O+=`

`,d.includes("NonReadonly<")&&(O+=X(),O+=`
`),O+=d,t.mock&&(O+=`

`,O+=y);let A=b.join(a,`${Ie(l)}${p}`);return await _fsextra2.default.outputFile(A,O),[A,...M?[M]:[]]}catch(f){throw`Oups... \u{1F37B}. An Error occurred while writing tag ${l} => ${f}`}}))).flatMap(l=>l)};exports.BODY_TYPE_NAME = He; exports.GetterPropType = ge; exports.LogLevels = rt; exports.OutputClient = L; exports.OutputMode = va; exports.RefComponentSuffix = cp; exports.SchemaType = Dt; exports.URL_REGEX = wa; exports.VERBS_WITH_BODY = Nt; exports.Verbs = V; exports.addDependency = sa; exports.asyncReduce = rr; exports.camel = x; exports.combineSchemas = wt; exports.compareVersions = Ae; exports.count = $i; exports.createDebugger = Ft; exports.createLogger = Z; exports.createSuccessMessage = Fa; exports.dynamicImport = sr; exports.errorMessage = Na; exports.escape = yt; exports.generalJSTypes = bn; exports.generalJSTypesWithArray = Re; exports.generateAxiosOptions = la; exports.generateBodyMutatorConfig = ua; exports.generateBodyOptions = ma; exports.generateComponentDefinition = rm; exports.generateDependencyImports = im; exports.generateFormDataAndUrlEncodedFunction = Pm; exports.generateImports = Zr; exports.generateModelInline = aa; exports.generateModelsInline = Y; exports.generateMutator = Je; exports.generateMutatorConfig = vm; exports.generateMutatorImports = v; exports.generateMutatorRequestOptions = Tm; exports.generateOptions = Rm; exports.generateParameterDefinition = Cm; exports.generateQueryParamsAxiosConfig = fa; exports.generateSchemasDefinition = Vm; exports.generateTarget = Xe; exports.generateTargetForTags = Ze; exports.generateVerbImports = pm; exports.generateVerbsOptions = Km; exports.getArray = Fr; exports.getBody = Wr; exports.getEnum = ce; exports.getEnumImplementation = _e; exports.getExtension = ve; exports.getFileInfo = R; exports.getKey = Ke; exports.getNumberWord = Ne; exports.getObject = Vr; exports.getOperationId = qr; exports.getOrvalGeneratedTypes = X; exports.getParameters = zr; exports.getParams = Lr; exports.getParamsInPath = ta; exports.getProps = Kr; exports.getQueryParams = Mt; exports.getRefInfo = me; exports.getResReqTypes = de; exports.getResponse = Hr; exports.getRoute = Ic; exports.getScalar = te; exports.ibmOpenapiValidator = Fi; exports.ibmOpenapiValidatorErrors = Ut; exports.ibmOpenapiValidatorWarnings = Vt; exports.isBoolean = ye; exports.isDirectory = Lt; exports.isFunction = Zt; exports.isModule = Jt; exports.isNull = er; exports.isNumber = Yt; exports.isNumeric = Xt; exports.isObject = D; exports.isReference = G; exports.isRootKey = pi; exports.isSchema = ii; exports.isString = _; exports.isSyntheticDefaultImportsAllow = J; exports.isUndefined = he; exports.isUrl = Me; exports.isVerb = tr; exports.jsDoc = w; exports.kebab = Ie; exports.loadFile = zt; exports.log = B; exports.mergeDeep = gt; exports.mismatchArgsMessage = _a; exports.openApiConverter = Pi; exports.pascal = h; exports.removeFiles = Xa; exports.resolveDiscriminators = Ur; exports.resolveObject = W; exports.resolveRef = E; exports.resolveValue = F; exports.sanitize = P; exports.snake = li; exports.sortByPriority = ar; exports.startMessage = Da; exports.stringify = Q; exports.toObjectString = Ii; exports.upath = b; exports.upper = ui; exports.writeModelInline = Oa; exports.writeModelsInline = il; exports.writeSchema = xa; exports.writeSchemas = pl; exports.writeSingleMode = jl; exports.writeSplitMode = El; exports.writeSplitTagsMode = Ql; exports.writeTagsMode = ru;
